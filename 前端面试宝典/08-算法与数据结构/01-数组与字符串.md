# æ•°ç»„ä¸å­—ç¬¦ä¸²

## æ¦‚å¿µä»‹ç»

æ•°ç»„å’Œå­—ç¬¦ä¸²æ˜¯å‰ç«¯å¼€å‘ä¸­æœ€å¸¸ç”¨çš„ä¸¤ç§æ•°æ®ç»“æ„ï¼Œä¹Ÿæ˜¯ç®—æ³•é¢˜ä¸­å‡ºç°é¢‘ç‡æœ€é«˜çš„é¢˜å‹ã€‚æ•°ç»„æä¾›äº†çº¿æ€§å­˜å‚¨å’Œå¿«é€Ÿç´¢å¼•èƒ½åŠ›ï¼Œè€Œå­—ç¬¦ä¸²åˆ™æ˜¯å¤„ç†æ–‡æœ¬æ•°æ®çš„åŸºç¡€ã€‚åœ¨JavaScriptä¸­ï¼Œè¿™ä¸¤ç§æ•°æ®ç»“æ„æœ‰è®¸å¤šç‰¹æ®Šæ€§è´¨å’Œé«˜æ•ˆæ“ä½œæ–¹æ³•ï¼ŒæŒæ¡å®ƒä»¬å¯¹äºæå‡ä»£ç è´¨é‡å’Œæ€§èƒ½è‡³å…³é‡è¦ã€‚

## æ•°ç»„åŸºç¡€

### æ•°ç»„çš„å®šä¹‰ä¸ç‰¹æ€§

æ•°ç»„æ˜¯ä¸€ç§çº¿æ€§æ•°æ®ç»“æ„ï¼Œç”¨äºå­˜å‚¨æœ‰åºé›†åˆçš„å…ƒç´ ã€‚åœ¨JavaScriptä¸­ï¼Œæ•°ç»„å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š

1. **åŠ¨æ€å¤§å°**ï¼šJavaScriptæ•°ç»„å¯ä»¥åŠ¨æ€å¢é•¿æˆ–ç¼©å°
2. **æ··åˆç±»å‹**ï¼šå•ä¸ªæ•°ç»„å¯ä»¥å­˜å‚¨ä¸åŒç±»å‹çš„å…ƒç´ ï¼ˆæ•°å­—ã€å­—ç¬¦ä¸²ã€å¯¹è±¡ç­‰ï¼‰
3. **ç¨€ç–æ•°ç»„**ï¼šç´¢å¼•ä¸ä¸€å®šè¿ç»­ï¼Œå¯ä»¥å­˜åœ¨"ç©ºæ§½"
4. **ç±»æ•°ç»„å¯¹è±¡**ï¼šæŸäº›DOM APIè¿”å›çš„é›†åˆï¼ˆå¦‚NodeListï¼‰ç±»ä¼¼æ•°ç»„ä½†ä¸æ˜¯çœŸæ­£çš„æ•°ç»„

### åˆ›å»ºæ•°ç»„çš„æ–¹æ³•

```javascript
// å­—é¢é‡è¯­æ³•ï¼ˆæœ€å¸¸ç”¨ï¼‰
const arr1 = [1, 2, 3, 4, 5];

// æ„é€ å‡½æ•°è¯­æ³•
const arr2 = new Array(1, 2, 3, 4, 5);

// åˆ›å»ºæŒ‡å®šé•¿åº¦çš„ç©ºæ•°ç»„ï¼ˆæ³¨æ„ï¼šè¿™ä¼šåˆ›å»ºå¸¦ç©ºæ§½çš„ç¨€ç–æ•°ç»„ï¼‰
const arr3 = new Array(5); // åˆ›å»ºé•¿åº¦ä¸º5çš„ç©ºæ•°ç»„

// Array.from æ–¹æ³•ï¼ˆES6+ï¼Œä»å¯è¿­ä»£æˆ–ç±»æ•°ç»„å¯¹è±¡åˆ›å»ºï¼‰
const arr4 = Array.from('hello'); // ['h', 'e', 'l', 'l', 'o']
const arr5 = Array.from({length: 5}, (_, i) => i + 1); // [1, 2, 3, 4, 5]

// Array.of æ–¹æ³•ï¼ˆES6+ï¼Œè§£å†³äº†new Array()çš„æ­§ä¹‰ï¼‰
const arr6 = Array.of(5); // [5]ï¼Œå•å…ƒç´ æ•°ç»„ï¼Œè€Œä¸æ˜¯é•¿åº¦ä¸º5çš„ç©ºæ•°ç»„

// è°ƒç”¨ç¤ºä¾‹
console.log(arr1); // [1, 2, 3, 4, 5]
console.log(arr3); // [empty Ã— 5] - äº”ä¸ªç©ºæ§½
console.log(arr4); // ['h', 'e', 'l', 'l', 'o']
console.log(arr5); // [1, 2, 3, 4, 5]
console.log(arr6); // [5]
```

### æ•°ç»„çš„åŸºæœ¬æ“ä½œ

#### è®¿é—®å’Œä¿®æ”¹å…ƒç´ 

```javascript
const arr = [10, 20, 30, 40, 50];

// è®¿é—®å…ƒç´ ï¼ˆç´¢å¼•ä»0å¼€å§‹ï¼‰
console.log(arr[0]); // 10
console.log(arr[2]); // 30

// ä¿®æ”¹å…ƒç´ 
arr[1] = 25;
console.log(arr); // [10, 25, 30, 40, 50]

// è·å–æ•°ç»„é•¿åº¦
console.log(arr.length); // 5

// é€šè¿‡ä¿®æ”¹lengthå±æ€§å¯ä»¥æˆªæ–­æ•°ç»„ï¼ˆæ…ç”¨ï¼‰
arr.length = 3;
console.log(arr); // [10, 25, 30] - åé¢çš„å…ƒç´ è¢«åˆ é™¤

// é€šè¿‡ç´¢å¼•ç›´æ¥æ·»åŠ è¶…å‡ºèŒƒå›´çš„å…ƒç´ ä¼šåˆ›å»ºç¨€ç–æ•°ç»„
const sparse = [1, 2, 3];
sparse[6] = 7;
console.log(sparse); // [1, 2, 3, empty Ã— 3, 7]
console.log(sparse.length); // 7

// æ‰§è¡Œç»“æœ
// æ•°ç»„arrè¢«ä¿®æ”¹ä¸º[10, 25, 30]
// åˆ›å»ºäº†ç¨€ç–æ•°ç»„sparseï¼Œå«æœ‰ç©ºæ§½
```

#### æ·»åŠ å’Œåˆ é™¤å…ƒç´ 

```javascript
const arr = [1, 2, 3];

// æœ«å°¾æ·»åŠ å…ƒç´  - pushæ–¹æ³•ï¼ˆè¿”å›æ–°é•¿åº¦ï¼‰
const newLength = arr.push(4, 5);
console.log(arr); // [1, 2, 3, 4, 5]
console.log(newLength); // 5

// å¼€å¤´æ·»åŠ å…ƒç´  - unshiftæ–¹æ³•ï¼ˆè¿”å›æ–°é•¿åº¦ï¼‰
const newLength2 = arr.unshift(0);
console.log(arr); // [0, 1, 2, 3, 4, 5]
console.log(newLength2); // 6

// æœ«å°¾åˆ é™¤å…ƒç´  - popæ–¹æ³•ï¼ˆè¿”å›è¢«åˆ é™¤çš„å…ƒç´ ï¼‰
const lastElement = arr.pop();
console.log(lastElement); // 5
console.log(arr); // [0, 1, 2, 3, 4]

// å¼€å¤´åˆ é™¤å…ƒç´  - shiftæ–¹æ³•ï¼ˆè¿”å›è¢«åˆ é™¤çš„å…ƒç´ ï¼‰
const firstElement = arr.shift();
console.log(firstElement); // 0
console.log(arr); // [1, 2, 3, 4]

// ä»»æ„ä½ç½®æ·»åŠ /åˆ é™¤å…ƒç´  - spliceæ–¹æ³•
// splice(èµ·å§‹ç´¢å¼•, åˆ é™¤æ•°é‡, æ·»åŠ çš„å…ƒç´ ...)
const removed = arr.splice(1, 1, 'a', 'b');
console.log(removed); // [2] - è¢«åˆ é™¤çš„å…ƒç´ ç»„æˆçš„æ•°ç»„
console.log(arr); // [1, 'a', 'b', 3, 4]

// æ‰§è¡Œç»“æœåˆ†æ
// 1. æ•°ç»„arrç»è¿‡å¤šæ¬¡ä¿®æ”¹ï¼Œæœ€ç»ˆå˜ä¸º[1, 'a', 'b', 3, 4]
// 2. pushå’Œunshiftè¿”å›äº†ä¿®æ”¹åçš„æ•°ç»„é•¿åº¦
// 3. popå’Œshiftè¿”å›äº†è¢«åˆ é™¤çš„å…ƒç´ 
// 4. spliceè¿”å›äº†è¢«åˆ é™¤å…ƒç´ çš„æ•°ç»„
```

## æ•°ç»„å¸¸ç”¨æ–¹æ³•

### éå†æ•°ç»„

```javascript
const arr = [1, 2, 3, 4, 5];

// 1. forå¾ªç¯ï¼ˆç»å…¸æ–¹å¼ï¼‰
console.log("forå¾ªç¯éå†:");
for (let i = 0; i < arr.length; i++) {
  console.log(arr[i]);
}

// 2. for...ofå¾ªç¯ï¼ˆES6+ï¼Œæ¨èç”¨äºç®€å•éå†ï¼‰
console.log("for...ofå¾ªç¯éå†:");
for (const item of arr) {
  console.log(item);
}

// 3. forEachæ–¹æ³•ï¼ˆæ— è¿”å›å€¼ï¼Œä¸èƒ½breakæˆ–returnè·³å‡ºï¼‰
console.log("forEachæ–¹æ³•éå†:");
arr.forEach((item, index, array) => {
  console.log(`ç´¢å¼•${index}: ${item}`);
});

// 4. mapæ–¹æ³•ï¼ˆè¿”å›æ–°æ•°ç»„ï¼Œå¸¸ç”¨äºæ•°æ®è½¬æ¢ï¼‰
const doubled = arr.map(item => item * 2);
console.log("mapæ–¹æ³•ç»“æœ:", doubled); // [2, 4, 6, 8, 10]

// 5. filteræ–¹æ³•ï¼ˆè¿”å›ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ç»„æˆçš„æ–°æ•°ç»„ï¼‰
const evenNumbers = arr.filter(item => item % 2 === 0);
console.log("filteræ–¹æ³•ç»“æœ:", evenNumbers); // [2, 4]

// 6. reduceæ–¹æ³•ï¼ˆå°†æ•°ç»„å‡å°‘ä¸ºå•ä¸ªå€¼ï¼‰
const sum = arr.reduce((accumulator, current) => accumulator + current, 0);
console.log("reduceæ–¹æ³•ç»“æœ:", sum); // 15

// 7. someæ–¹æ³•ï¼ˆè‡³å°‘ä¸€ä¸ªå…ƒç´ æ»¡è¶³æ¡ä»¶åˆ™è¿”å›trueï¼‰
const hasEven = arr.some(item => item % 2 === 0);
console.log("someæ–¹æ³•ç»“æœ:", hasEven); // true

// 8. everyæ–¹æ³•ï¼ˆæ‰€æœ‰å…ƒç´ éƒ½æ»¡è¶³æ¡ä»¶æ‰è¿”å›trueï¼‰
const allEven = arr.every(item => item % 2 === 0);
console.log("everyæ–¹æ³•ç»“æœ:", allEven); // false

// æ‰§è¡Œç»“æœåˆ†æ
// 1. forå¾ªç¯å’Œfor...ofå¾ªç¯é€ä¸ªè¾“å‡ºå…ƒç´ å€¼
// 2. forEachè¾“å‡ºäº†ç´¢å¼•å’Œå€¼çš„ç»„åˆ
// 3. mapè¿”å›äº†åŸæ•°ç»„æ¯ä¸ªå…ƒç´ ä¹˜ä»¥2çš„æ–°æ•°ç»„
// 4. filterè¿”å›äº†åŸæ•°ç»„ä¸­çš„å¶æ•°
// 5. reduceå°†æ‰€æœ‰å…ƒç´ ç›¸åŠ å¾—åˆ°äº†15
// 6. someæ£€æµ‹åˆ°äº†å¶æ•°å­˜åœ¨ï¼Œè¿”å›true
// 7. everyæ£€æµ‹åˆ°ä¸æ˜¯æ‰€æœ‰å…ƒç´ éƒ½æ˜¯å¶æ•°ï¼Œè¿”å›false
```

### æŸ¥æ‰¾å…ƒç´ 

```javascript
const arr = [10, 20, 30, 40, 20, 50];

// indexOf - è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ç´¢å¼•ï¼Œæœªæ‰¾åˆ°è¿”å›-1
console.log(arr.indexOf(20)); // 1
console.log(arr.indexOf(20, 2)); // 4 (ä»ç´¢å¼•2å¼€å§‹æŸ¥æ‰¾)
console.log(arr.indexOf(60)); // -1 (ä¸å­˜åœ¨äºæ•°ç»„ä¸­)

// lastIndexOf - ä»åå‘å‰æŸ¥æ‰¾ï¼Œè¿”å›æœ€åä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ç´¢å¼•
console.log(arr.lastIndexOf(20)); // 4

// includes (ES7+) - æ£€æŸ¥æ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ ï¼Œè¿”å›å¸ƒå°”å€¼
console.log(arr.includes(30)); // true
console.log(arr.includes(60)); // false
console.log(arr.includes(20, 2)); // true (ä»ç´¢å¼•2å¼€å§‹æŸ¥æ‰¾)

// find (ES6+) - è¿”å›ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ å€¼ï¼Œå¦åˆ™è¿”å›undefined
const found = arr.find(item => item > 25);
console.log(found); // 30

// findIndex (ES6+) - è¿”å›ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ ç´¢å¼•ï¼Œå¦åˆ™è¿”å›-1
const foundIndex = arr.findIndex(item => item > 25);
console.log(foundIndex); // 2

// findLast/findLastIndex (ES2023) - ä»åå‘å‰æŸ¥æ‰¾
// æ³¨æ„ï¼šè¿™æ˜¯è¾ƒæ–°çš„æ–¹æ³•ï¼Œå¯èƒ½éœ€è¦æ£€æŸ¥å…¼å®¹æ€§
if ('findLast' in Array.prototype) {
  const lastFound = arr.findLast(item => item > 25);
  console.log("findLastç»“æœ:", lastFound); // 50
}

// æ‰§è¡Œç»“æœåˆ†æ
// 1. indexOfæ‰¾åˆ°äº†å€¼ä¸º20çš„ç¬¬ä¸€ä¸ªå…ƒç´ ç´¢å¼•ä¸º1
// 2. lastIndexOfæ‰¾åˆ°äº†å€¼ä¸º20çš„æœ€åä¸€ä¸ªå…ƒç´ ç´¢å¼•ä¸º4
// 3. includesç¡®è®¤äº†30å­˜åœ¨äºæ•°ç»„ä¸­
// 4. findæ‰¾åˆ°äº†ç¬¬ä¸€ä¸ªå¤§äº25çš„å…ƒç´ ä¸º30
// 5. findIndexæ‰¾åˆ°äº†ç¬¬ä¸€ä¸ªå¤§äº25çš„å…ƒç´ ç´¢å¼•ä¸º2
```

### æ•°ç»„æ’åºå’Œæ“ä½œ

```javascript
const arr = [3, 1, 4, 1, 5, 9, 2, 6];

// sort - å¯¹æ•°ç»„è¿›è¡ŒåŸåœ°æ’åºï¼ˆé»˜è®¤æŒ‰å­—ç¬¦ä¸²é¡ºåºï¼‰
// æ³¨æ„ï¼šsortæ–¹æ³•ä¼šä¿®æ”¹åŸæ•°ç»„
const original = [...arr]; // ä¿å­˜åŸæ•°ç»„çš„å‰¯æœ¬
arr.sort();
console.log("é»˜è®¤æ’åº:", arr); // [1, 1, 2, 3, 4, 5, 6, 9]

// è‡ªå®šä¹‰æ’åºå‡½æ•° - æ•°å€¼æ’åº
const nums = [10, 5, 8, 2, 1];
nums.sort((a, b) => a - b); // å‡åº
console.log("è‡ªå®šä¹‰å‡åº:", nums); // [1, 2, 5, 8, 10]

nums.sort((a, b) => b - a); // é™åº
console.log("è‡ªå®šä¹‰é™åº:", nums); // [10, 8, 5, 2, 1]

// å¯¹è±¡æ•°ç»„æ’åº
const users = [
  { name: "Alice", age: 25 },
  { name: "Bob", age: 30 },
  { name: "Charlie", age: 20 }
];
users.sort((a, b) => a.age - b.age); // æŒ‰å¹´é¾„å‡åº
console.log("å¯¹è±¡æ•°ç»„æ’åº:", users);
// [{ name: "Charlie", age: 20 }, { name: "Alice", age: 25 }, { name: "Bob", age: 30 }]

// reverse - åè½¬æ•°ç»„ï¼ˆåŸåœ°æ“ä½œï¼‰
const reversed = [1, 2, 3, 4, 5];
reversed.reverse();
console.log("åè½¬æ•°ç»„:", reversed); // [5, 4, 3, 2, 1]

// concat - åˆå¹¶æ•°ç»„ï¼ˆè¿”å›æ–°æ•°ç»„ï¼Œä¸ä¿®æ”¹åŸæ•°ç»„ï¼‰
const arr1 = [1, 2, 3];
const arr2 = [4, 5, 6];
const combined = arr1.concat(arr2);
console.log("åˆå¹¶æ•°ç»„:", combined); // [1, 2, 3, 4, 5, 6]
console.log("åŸæ•°ç»„ä¸å˜:", arr1); // [1, 2, 3]

// slice - æå–æ•°ç»„çš„ä¸€éƒ¨åˆ†ï¼ˆè¿”å›æ–°æ•°ç»„ï¼Œä¸ä¿®æ”¹åŸæ•°ç»„ï¼‰
const sliced = combined.slice(2, 5);
console.log("æå–éƒ¨åˆ†:", sliced); // [3, 4, 5]
console.log("åŸæ•°ç»„ä¸å˜:", combined); // [1, 2, 3, 4, 5, 6]

// join - å°†æ•°ç»„å…ƒç´ è¿æ¥æˆå­—ç¬¦ä¸²
const joined = arr1.join('-');
console.log("è¿æ¥æˆå­—ç¬¦ä¸²:", joined); // "1-2-3"

// æ‰§è¡Œç»“æœåˆ†æ
// 1. æ•°ç»„é»˜è®¤æŒ‰å­—ç¬¦ä¸²é¡ºåºæ’åº
// 2. é€šè¿‡æ¯”è¾ƒå‡½æ•°å¯ä»¥å®ç°æ•°å€¼å‡åºå’Œé™åºæ’åº
// 3. å¯¹è±¡æ•°ç»„å¯ä»¥æŒ‰ç…§å¯¹è±¡çš„å±æ€§è¿›è¡Œæ’åº
// 4. reverseæ–¹æ³•å°†æ•°ç»„å…ƒç´ é¡ºåºåè½¬
// 5. concatæ–¹æ³•åˆå¹¶äº†ä¸¤ä¸ªæ•°ç»„ä½†ä¸æ”¹å˜åŸæ•°ç»„
// 6. sliceæ–¹æ³•æå–äº†æ•°ç»„çš„ä¸€éƒ¨åˆ†ä½†ä¸æ”¹å˜åŸæ•°ç»„
// 7. joinæ–¹æ³•å°†æ•°ç»„å…ƒç´ ä»¥æŒ‡å®šåˆ†éš”ç¬¦è¿æ¥æˆå­—ç¬¦ä¸²
```

### ES6+æ–°å¢æ•°ç»„æ–¹æ³•

```javascript
// Array.from - ä»ç±»æ•°ç»„å¯¹è±¡æˆ–å¯è¿­ä»£å¯¹è±¡åˆ›å»ºæ–°æ•°ç»„
const str = 'hello';
const chars = Array.from(str);
console.log("Array.fromå­—ç¬¦ä¸²:", chars); // ['h', 'e', 'l', 'l', 'o']

// ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ˜ å°„å‡½æ•°ï¼Œç±»ä¼¼äºmap
const numbers = Array.from([1, 2, 3], x => x * 2);
console.log("Array.fromå¸¦æ˜ å°„:", numbers); // [2, 4, 6]

// Array.of - åˆ›å»ºå…·æœ‰å¯å˜æ•°é‡å‚æ•°çš„æ–°æ•°ç»„
const arr = Array.of(1, 2, 3);
console.log("Array.of:", arr); // [1, 2, 3]
console.log("ä¸new ArrayåŒºåˆ«:", Array.of(5)); // [5] è€Œ new Array(5) æ˜¯é•¿åº¦ä¸º5çš„ç©ºæ•°ç»„

// fill - ç”¨å›ºå®šå€¼å¡«å……æ•°ç»„ï¼ˆåŸåœ°ä¿®æ”¹ï¼‰
const filled = new Array(3).fill(0);
console.log("fillåŸºæœ¬ç”¨æ³•:", filled); // [0, 0, 0]

// æŒ‡å®šå¼€å§‹å’Œç»“æŸç´¢å¼•
const partialFill = [1, 2, 3, 4, 5].fill(0, 1, 3);
console.log("filléƒ¨åˆ†å¡«å……:", partialFill); // [1, 0, 0, 4, 5]

// flat - æ‰å¹³åŒ–åµŒå¥—æ•°ç»„ï¼ˆè¿”å›æ–°æ•°ç»„ï¼‰
const nested = [1, [2, [3, 4]]];
console.log("flaté»˜è®¤æ·±åº¦:", nested.flat()); // [1, 2, [3, 4]]
console.log("flatæŒ‡å®šæ·±åº¦:", nested.flat(2)); // [1, 2, 3, 4]
console.log("flatæ— é™æ·±åº¦:", nested.flat(Infinity)); // [1, 2, 3, 4]

// flatMap - å…ˆæ˜ å°„å†æ‰å¹³åŒ–ï¼ˆç›¸å½“äºmapåflat(1)ï¼‰
const sentences = ['hello world', 'goodbye world'];
const words = sentences.flatMap(sentence => sentence.split(' '));
console.log("flatMapç»“æœ:", words); // ['hello', 'world', 'goodbye', 'world']

// at - æ¥å—æ•´æ•°å€¼å¹¶è¿”å›è¯¥ç´¢å¼•çš„é¡¹ç›®ï¼Œæ”¯æŒè´Ÿç´¢å¼•ï¼ˆES2022ï¼‰
if ('at' in Array.prototype) {
  const array = [5, 12, 8, 130, 44];
  console.log("atæ­£ç´¢å¼•:", array.at(2)); // 8
  console.log("atè´Ÿç´¢å¼•:", array.at(-1)); // 44ï¼ˆæœ€åä¸€ä¸ªå…ƒç´ ï¼‰
}

// æ‰§è¡Œç»“æœåˆ†æ
// 1. Array.fromå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—ç¬¦æ•°ç»„ï¼Œè¿˜æ”¯æŒæ˜ å°„åŠŸèƒ½
// 2. Array.ofè§£å†³äº†new Arrayçš„æ­§ä¹‰ï¼Œåˆ›å»ºå•å…ƒç´ æ•°ç»„
// 3. fillæ–¹æ³•å¯ä»¥å…¨éƒ¨æˆ–éƒ¨åˆ†å¡«å……æ•°ç»„
// 4. flatæ–¹æ³•æŒ‰æŒ‡å®šæ·±åº¦æ‰å¹³åŒ–åµŒå¥—æ•°ç»„
// 5. flatMapæ–¹æ³•ç»“åˆäº†mapå’Œflatæ“ä½œï¼Œé€‚åˆå¤„ç†åµŒå¥—ç»“æœ
// 6. atæ–¹æ³•æä¾›äº†ä¾¿æ·çš„ç´¢å¼•è®¿é—®ï¼Œç‰¹åˆ«æ˜¯è´Ÿç´¢å¼•
```

## æ•°ç»„çš„æ—¶é—´å¤æ‚åº¦

ä¸åŒæ•°ç»„æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ç›´æ¥å½±å“åº”ç”¨æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®æ—¶ã€‚

| æ“ä½œ | æ—¶é—´å¤æ‚åº¦ | è¯´æ˜ |
|------|-----------|------|
| è®¿é—®å…ƒç´ ï¼ˆé€šè¿‡ç´¢å¼•ï¼‰ | O(1) | é€šè¿‡ç´¢å¼•ç›´æ¥è®¿é—®ï¼Œå¸¸æ•°æ—¶é—´ |
| æŸ¥æ‰¾å…ƒç´ ï¼ˆindexOf/includesï¼‰ | O(n) | éœ€è¦éå†æ•°ç»„ï¼Œçº¿æ€§æ—¶é—´ |
| æ·»åŠ /åˆ é™¤æœ«å°¾å…ƒç´ ï¼ˆpush/popï¼‰ | O(1) | æ“ä½œæ•°ç»„æœ«å°¾ï¼Œå¸¸æ•°æ—¶é—´ |
| æ·»åŠ /åˆ é™¤å¼€å¤´å…ƒç´ ï¼ˆunshift/shiftï¼‰ | O(n) | éœ€è¦ç§»åŠ¨æ‰€æœ‰å…¶ä»–å…ƒç´ ï¼Œçº¿æ€§æ—¶é—´ |
| æ·»åŠ /åˆ é™¤ä¸­é—´å…ƒç´ ï¼ˆspliceï¼‰ | O(n) | å¯èƒ½éœ€è¦ç§»åŠ¨å¤šä¸ªå…ƒç´ ï¼Œçº¿æ€§æ—¶é—´ |
| æ’åºï¼ˆsortï¼‰ | O(n log n) | åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•å¹³å‡æ—¶é—´å¤æ‚åº¦ |
| éå†ï¼ˆforEach/map/filterç­‰ï¼‰ | O(n) | éœ€è¦è®¿é—®æ¯ä¸ªå…ƒç´ ï¼Œçº¿æ€§æ—¶é—´ |
| è¿æ¥æ•°ç»„ï¼ˆconcatï¼‰ | O(n+m) | éœ€è¦å¤åˆ¶æ‰€æœ‰å…ƒç´ ï¼Œnå’Œmæ˜¯ä¸¤ä¸ªæ•°ç»„çš„é•¿åº¦ |

### æ€§èƒ½è€ƒè™‘

```javascript
// ç¤ºä¾‹ï¼šåœ¨å¤§å‹æ•°ç»„å¼€å¤´æ·»åŠ å…ƒç´ çš„æ€§èƒ½é—®é¢˜
function measureTime(fn) {
  const start = performance.now();
  fn();
  return performance.now() - start;
}

// å‡†å¤‡æµ‹è¯•æ•°æ®
const smallArray = Array(1000).fill(0);
const largeArray = Array(100000).fill(0);

// æµ‹è¯•push vs unshift
const pushTime = measureTime(() => {
  const arr = [...smallArray];
  for (let i = 0; i < 1000; i++) {
    arr.push(i);
  }
});

const unshiftTime = measureTime(() => {
  const arr = [...smallArray];
  for (let i = 0; i < 1000; i++) {
    arr.unshift(i);
  }
});

console.log(`Push 1000æ¬¡è€—æ—¶: ${pushTime.toFixed(2)}ms`);
console.log(`Unshift 1000æ¬¡è€—æ—¶: ${unshiftTime.toFixed(2)}ms`);
// è¾“å‡ºç¤ºä¾‹ï¼š
// Push 1000æ¬¡è€—æ—¶: 0.54ms
// Unshift 1000æ¬¡è€—æ—¶: 9.32ms

// å¤§å‹æ•°ç»„çš„æ€§èƒ½å·®å¼‚æ›´æ˜æ˜¾
const largePushTime = measureTime(() => {
  const arr = [...largeArray];
  for (let i = 0; i < 1000; i++) {
    arr.push(i);
  }
});

const largeUnshiftTime = measureTime(() => {
  const arr = [...largeArray];
  for (let i = 0; i < 1000; i++) {
    arr.unshift(i);
  }
});

console.log(`å¤§å‹æ•°ç»„ Push 1000æ¬¡è€—æ—¶: ${largePushTime.toFixed(2)}ms`);
console.log(`å¤§å‹æ•°ç»„ Unshift 1000æ¬¡è€—æ—¶: ${largeUnshiftTime.toFixed(2)}ms`);
// è¾“å‡ºç¤ºä¾‹ï¼š
// å¤§å‹æ•°ç»„ Push 1000æ¬¡è€—æ—¶: 5.76ms
// å¤§å‹æ•°ç»„ Unshift 1000æ¬¡è€—æ—¶: 837.45ms

// æ€§èƒ½ç»“è®ºï¼š
// 1. unshiftæ“ä½œæ¯”pushæ…¢å¾—å¤šï¼Œå°¤å…¶æ˜¯å¯¹å¤§å‹æ•°ç»„
// 2. åœ¨éœ€è¦é¢‘ç¹åœ¨å¼€å¤´æ·»åŠ å…ƒç´ çš„åœºæ™¯ï¼Œè€ƒè™‘ä½¿ç”¨å…¶ä»–æ•°æ®ç»“æ„å¦‚åŒç«¯é˜Ÿåˆ—
// 3. æˆ–è€…ä½¿ç”¨åè½¬ç­–ç•¥ï¼šåœ¨æœ«å°¾æ·»åŠ ï¼Œæœ€åreverse()
```

## å­—ç¬¦ä¸²åŸºç¡€

### å­—ç¬¦ä¸²çš„å®šä¹‰ä¸ç‰¹æ€§

å­—ç¬¦ä¸²æ˜¯ç”±é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ç»„æˆçš„æœ‰åºåºåˆ—ã€‚åœ¨JavaScriptä¸­ï¼Œå­—ç¬¦ä¸²å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š

1. **ä¸å¯å˜æ€§**ï¼šJavaScriptä¸­çš„å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œä»»ä½•ä¿®æ”¹éƒ½ä¼šåˆ›å»ºæ–°å­—ç¬¦ä¸²
2. **Unicodeæ”¯æŒ**ï¼šå¯ä»¥åŒ…å«ä»»ä½•Unicodeå­—ç¬¦ï¼ŒåŒ…æ‹¬è¡¨æƒ…ç¬¦å·å’Œç‰¹æ®Šå­—ç¬¦
3. **ç±»æ•°ç»„ç‰¹æ€§**ï¼šå¯ä»¥åƒæ•°ç»„ä¸€æ ·ä½¿ç”¨ç´¢å¼•è®¿é—®å•ä¸ªå­—ç¬¦å’Œlengthå±æ€§
4. **åŸºæœ¬ç±»å‹**ï¼šå­—ç¬¦ä¸²æ˜¯JavaScriptçš„åŸºæœ¬æ•°æ®ç±»å‹ä¹‹ä¸€ï¼Œä¸æ˜¯å¯¹è±¡

### åˆ›å»ºå­—ç¬¦ä¸²

```javascript
// 1. å­—ç¬¦ä¸²å­—é¢é‡
const str1 = 'Hello'; // å•å¼•å·
const str2 = "World"; // åŒå¼•å·
const str3 = `Hello ${str2}`; // æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆES6ï¼‰ï¼Œæ”¯æŒæ’å€¼

// 2. Stringæ„é€ å‡½æ•°
const str4 = new String('Hello'); // åˆ›å»ºStringå¯¹è±¡ï¼Œä¸æ¨è
const str5 = String(123); // è½¬æ¢å…¶ä»–ç±»å‹ä¸ºå­—ç¬¦ä¸²ï¼Œæ¨è

// 3. ç‰¹æ®Šå­—ç¬¦å’Œè½¬ä¹‰åºåˆ—
const specialStr = 'Line 1\nLine 2\tTabbed'; // åŒ…å«æ¢è¡Œç¬¦å’Œåˆ¶è¡¨ç¬¦
const quotesStr = 'I\'m a string'; // è½¬ä¹‰å¼•å·

// 4. Unicodeè¡¨ç¤º
const heart = '\u2764'; // Unicodeå¿ƒå½¢ç¬¦å·
const emoji = 'ğŸ˜Š'; // ç›´æ¥ä½¿ç”¨emoji

console.log("å­—ç¬¦ä¸²å­—é¢é‡:", str1); // Hello
console.log("æ¨¡æ¿å­—ç¬¦ä¸²:", str3); // Hello World
console.log("ç‰¹æ®Šå­—ç¬¦:", specialStr);
// Line 1
// Line 2    Tabbed
console.log("Unicodeå­—ç¬¦:", heart, emoji); // â¤ ğŸ˜Š

// æ³¨æ„ï¼šä½¿ç”¨new Stringåˆ›å»ºçš„æ˜¯å¯¹è±¡ï¼Œè€Œä¸æ˜¯åŸºæœ¬ç±»å‹
console.log(typeof str1); // string
console.log(typeof str4); // object
console.log(str1 === str4.valueOf()); // true - å€¼ç›¸åŒ
console.log(str1 === str4); // false - ç±»å‹ä¸åŒ
```

### å­—ç¬¦ä¸²çš„åŸºæœ¬æ“ä½œ

#### è®¿é—®å­—ç¬¦

```javascript
const str = 'Hello, World!';

// 1. ä½¿ç”¨charAtæ–¹æ³•ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰
console.log(str.charAt(0)); // 'H'
console.log(str.charAt(7)); // 'W'
console.log(str.charAt(100)); // '' (è¶…å‡ºèŒƒå›´è¿”å›ç©ºå­—ç¬¦ä¸²)

// 2. ä½¿ç”¨æ–¹æ‹¬å·ï¼ˆç±»ä¼¼æ•°ç»„ï¼ŒES5+ï¼‰
console.log(str[0]); // 'H'
console.log(str[7]); // 'W'
console.log(str[100]); // undefined (è¶…å‡ºèŒƒå›´è¿”å›undefined)

// 3. è·å–å­—ç¬¦ä¸²é•¿åº¦
console.log(str.length); // 13

// 4. è·å–å­—ç¬¦ç¼–ç 
console.log(str.charCodeAt(0)); // 72 (å­—ç¬¦'H'çš„Unicodeç¼–ç )
console.log(String.fromCharCode(72)); // 'H'

// ES6+ æ”¯æŒå®Œæ•´çš„Unicode
if ('codePointAt' in String.prototype) {
  const emoji = 'ğŸ˜Š';
  console.log(emoji.codePointAt(0)); // 128522 (emojiçš„å®Œæ•´Unicodeç ç‚¹)
  console.log(String.fromCodePoint(128522)); // 'ğŸ˜Š'
}

// æ‰§è¡Œç»“æœåˆ†æ
// 1. charAtå’Œæ–¹æ‹¬å·è¯­æ³•éƒ½å¯ä»¥è®¿é—®å•ä¸ªå­—ç¬¦
// 2. è¶…å‡ºèŒƒå›´æ—¶ï¼ŒcharAtè¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œæ–¹æ‹¬å·è¿”å›undefined
// 3. charCodeAtè¿”å›å­—ç¬¦çš„Unicodeç¼–ç 
// 4. codePointAtæ”¯æŒ4å­—èŠ‚çš„Unicodeå­—ç¬¦ï¼ˆå¦‚emojiï¼‰
```

#### å­—ç¬¦ä¸²æ‹¼æ¥å’Œä¿®æ”¹

```javascript
const firstName = 'John';
const lastName = 'Doe';

// 1. ä½¿ç”¨+è¿ç®—ç¬¦ï¼ˆåŸºæœ¬æ–¹å¼ï¼‰
const fullName1 = firstName + ' ' + lastName;
console.log("åŠ å·æ‹¼æ¥:", fullName1); // 'John Doe'

// 2. ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆES6ï¼Œæ¨èï¼‰
const fullName2 = `${firstName} ${lastName}`;
console.log("æ¨¡æ¿å­—ç¬¦ä¸²:", fullName2); // 'John Doe'

// 3. ä½¿ç”¨concatæ–¹æ³•
const fullName3 = firstName.concat(' ', lastName);
console.log("concatæ–¹æ³•:", fullName3); // 'John Doe'

// 4. ä½¿ç”¨joinæ–¹æ³•ï¼ˆæ•°ç»„ï¼‰
const fullName4 = [firstName, lastName].join(' ');
console.log("joinæ–¹æ³•:", fullName4); // 'John Doe'

// å­—ç¬¦ä¸²ä¸å¯å˜æ€§æ¼”ç¤º
let str = 'Hello';
// çœ‹èµ·æ¥æ˜¯ä¿®æ”¹ï¼Œä½†å®é™…ä¸Šåˆ›å»ºäº†æ–°å­—ç¬¦ä¸²
str = str + ' World';
console.log(str); // 'Hello World'

// å¤§é‡å­—ç¬¦ä¸²æ‹¼æ¥çš„æ€§èƒ½ä¼˜åŒ–
console.time('åŠ å·æ‹¼æ¥');
let result1 = '';
for (let i = 0; i < 10000; i++) {
  result1 += i;
}
console.timeEnd('åŠ å·æ‹¼æ¥');

console.time('æ•°ç»„join');
const parts = [];
for (let i = 0; i < 10000; i++) {
  parts.push(i);
}
const result2 = parts.join('');
console.timeEnd('æ•°ç»„join');

// è¾“å‡ºç¤ºä¾‹ï¼š
// åŠ å·æ‹¼æ¥: 5.67ms
// æ•°ç»„join: 0.85ms

// æ‰§è¡Œç»“æœåˆ†æï¼š
// 1. +è¿ç®—ç¬¦ã€æ¨¡æ¿å­—ç¬¦ä¸²ã€concatæ–¹æ³•å’Œjoinæ–¹æ³•éƒ½å¯ä»¥æ‹¼æ¥å­—ç¬¦ä¸²
// 2. å­—ç¬¦ä¸²çš„ä¸å¯å˜æ€§æ„å‘³ç€æ¯æ¬¡"ä¿®æ”¹"éƒ½åˆ›å»ºæ–°å­—ç¬¦ä¸²
// 3. å¯¹äºå¤§é‡æ‹¼æ¥æ“ä½œï¼Œæ•°ç»„joinæ–¹æ³•é€šå¸¸æ¯”+è¿ç®—ç¬¦å¿«å¾—å¤š
```

## å­—ç¬¦ä¸²å¸¸ç”¨æ–¹æ³•

### æŸ¥æ‰¾å’Œæå–

```javascript
const str = 'Hello World! Welcome to JavaScript world.';

// 1. indexOf - æŸ¥æ‰¾å­å­—ç¬¦ä¸²ï¼Œè¿”å›é¦–æ¬¡å‡ºç°çš„ç´¢å¼•
console.log(str.indexOf('World')); // 6
console.log(str.indexOf('world')); // 37 (åŒºåˆ†å¤§å°å†™)
console.log(str.indexOf('World', 10)); // -1 (ä»ç´¢å¼•10å¼€å§‹æŸ¥æ‰¾ï¼Œæœªæ‰¾åˆ°)

// 2. lastIndexOf - ä»åå‘å‰æŸ¥æ‰¾
console.log(str.lastIndexOf('o')); // 38

// 3. includes - æ£€æŸ¥æ˜¯å¦åŒ…å«å­å­—ç¬¦ä¸²ï¼ˆES6+ï¼‰
console.log(str.includes('Welcome')); // true
console.log(str.includes('welcome')); // false (åŒºåˆ†å¤§å°å†™)
console.log(str.includes('Welcome', 20)); // false (ä»ç´¢å¼•20å¼€å§‹æŸ¥æ‰¾)

// 4. startsWith/endsWith - æ£€æŸ¥æ˜¯å¦ä»¥ç‰¹å®šå­å­—ç¬¦ä¸²å¼€å§‹/ç»“æŸï¼ˆES6+ï¼‰
console.log(str.startsWith('Hello')); // true
console.log(str.endsWith('world.')); // true
console.log(str.startsWith('World', 6)); // true (ä»ç´¢å¼•6å¼€å§‹æ£€æŸ¥)

// 5. substring - æå–å­å­—ç¬¦ä¸²
console.log(str.substring(0, 5)); // 'Hello'
console.log(str.substring(6)); // 'World! Welcome to JavaScript world.'

// 6. slice - æå–å­å­—ç¬¦ä¸²ï¼Œæ”¯æŒè´Ÿç´¢å¼•
console.log(str.slice(0, 5)); // 'Hello'
console.log(str.slice(-6)); // 'world.' (ä»æœ«å°¾ç®—èµ·çš„6ä¸ªå­—ç¬¦)

// 7. substr - æå–æŒ‡å®šé•¿åº¦çš„å­å­—ç¬¦ä¸²ï¼ˆä¸æ¨èä½¿ç”¨ï¼Œå¯èƒ½è¢«åºŸå¼ƒï¼‰
console.log(str.substr(6, 5)); // 'World'

// 8. split - åˆ†å‰²å­—ç¬¦ä¸²ä¸ºæ•°ç»„
console.log(str.split(' ')); // ['Hello', 'World!', 'Welcome', 'to', 'JavaScript', 'world.']
console.log(str.split(' ', 3)); // ['Hello', 'World!', 'Welcome'] (é™åˆ¶ç»“æœæ•°é‡)
console.log(str.split('')); // ['H', 'e', 'l', 'l', 'o', ' ', ...] (åˆ†å‰²æˆå•ä¸ªå­—ç¬¦)

// æ‰§è¡Œç»“æœåˆ†æ
// 1. indexOfå’ŒlastIndexOfè¿”å›å­å­—ç¬¦ä¸²çš„ä½ç½®ï¼Œæœªæ‰¾åˆ°è¿”å›-1
// 2. includesã€startsWithå’ŒendsWithè¿”å›å¸ƒå°”å€¼
// 3. substringå’Œsliceéƒ½å¯ä»¥æå–å­å­—ç¬¦ä¸²ï¼Œä½†sliceæ”¯æŒè´Ÿç´¢å¼•
// 4. splitå°†å­—ç¬¦ä¸²åˆ†å‰²æˆæ•°ç»„ï¼Œå¯ä»¥æŒ‡å®šåˆ†éš”ç¬¦å’Œé™åˆ¶ç»“æœæ•°é‡
```

### ä¿®æ”¹å­—ç¬¦ä¸²

```javascript
const str = 'Hello World';

// 1. replace - æ›¿æ¢å­å­—ç¬¦ä¸²ï¼ˆåªæ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼‰
console.log(str.replace('o', 'x')); // 'Hellx World'
console.log(str); // åŸå­—ç¬¦ä¸²ä¸å˜: 'Hello World'

// ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å…¨å±€æ›¿æ¢
console.log(str.replace(/o/g, 'x')); // 'Hellx Wxrld'

// 2. replaceAll - æ›¿æ¢æ‰€æœ‰åŒ¹é…é¡¹ï¼ˆES2021ï¼‰
if ('replaceAll' in String.prototype) {
console.log(str.replaceAll('o', 'x')); // 'Hellx Wxrld'
}

// 3. toLowerCase/toUpperCase - è½¬æ¢å¤§å°å†™
console.log(str.toLowerCase()); // 'hello world'
console.log(str.toUpperCase()); // 'HELLO WORLD'

// 4. trim - å»é™¤é¦–å°¾ç©ºæ ¼
const paddedStr = '  Hello World  ';
console.log(paddedStr.trim()); // 'Hello World'
console.log(paddedStr.trimStart()); // 'Hello World  ' (å»é™¤å¼€å¤´ç©ºæ ¼)
console.log(paddedStr.trimEnd()); // '  Hello World' (å»é™¤ç»“å°¾ç©ºæ ¼)

// 5. padStart/padEnd - å¡«å……å­—ç¬¦ä¸²åˆ°æŒ‡å®šé•¿åº¦ï¼ˆES2017ï¼‰
console.log('5'.padStart(3, '0')); // '005' (å·¦å¡«å……åˆ°3ä½)
console.log('5'.padEnd(3, '0')); // '500' (å³å¡«å……åˆ°3ä½)

// 6. repeat - é‡å¤å­—ç¬¦ä¸²ï¼ˆES6ï¼‰
console.log('abc'.repeat(3)); // 'abcabcabc'

// 7. å­—ç¬¦ä¸²ä¸å¯å˜æ€§ - åˆ›å»ºæ–°å­—ç¬¦ä¸²è€Œä¸æ˜¯ä¿®æ”¹åŸå­—ç¬¦ä¸²
let mutableStr = 'Hello';
mutableStr = mutableStr.replace('H', 'h');
console.log(mutableStr); // 'hello'

// 8. normalize - è§„èŒƒåŒ–Unicodeå­—ç¬¦ï¼ˆES6ï¼‰
// æŸäº›Unicodeå­—ç¬¦æœ‰å¤šç§è¡¨ç¤ºæ–¹å¼
const n1 = '\u00F1'; // Ã±
const n2 = '\u006E\u0303'; // n + Ëœ ç»„åˆ
console.log(n1, n2); // è§†è§‰ä¸Šç›¸åŒ
console.log(n1 === n2); // false - äºŒè¿›åˆ¶è¡¨ç¤ºä¸åŒ
console.log(n1 === n2.normalize()); // true - è§„èŒƒåŒ–åç›¸åŒ

// æ‰§è¡Œç»“æœåˆ†æ
// 1. æ‰€æœ‰å­—ç¬¦ä¸²ä¿®æ”¹æ–¹æ³•éƒ½ä¸æ”¹å˜åŸå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯è¿”å›æ–°å­—ç¬¦ä¸²
// 2. replaceé»˜è®¤åªæ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œéœ€è¦æ­£åˆ™å…¨å±€æ ‡å¿—gæ‰èƒ½æ›¿æ¢æ‰€æœ‰
// 3. toLowerCaseå’ŒtoUpperCaseå¯ä»¥è½¬æ¢å­—ç¬¦ä¸²å¤§å°å†™
// 4. trimç³»åˆ—æ–¹æ³•å¯ä»¥å»é™¤å­—ç¬¦ä¸²é¦–å°¾ç©ºæ ¼
// 5. padStartå’ŒpadEndç”¨äºå¡«å……å­—ç¬¦ä¸²åˆ°æŒ‡å®šé•¿åº¦
// 6. repeatæ–¹æ³•å¯ä»¥åˆ›å»ºé‡å¤å­—ç¬¦ä¸²
// 7. normalizeæ–¹æ³•å¯ä»¥æ ‡å‡†åŒ–Unicodeå­—ç¬¦è¡¨ç¤º
```

### æ­£åˆ™è¡¨è¾¾å¼ä¸å­—ç¬¦ä¸²

```javascript
const str = 'Hello World 123, test@example.com';

// 1. match - æŸ¥æ‰¾åŒ¹é…é¡¹ï¼Œè¿”å›åŒ¹é…ç»“æœæ•°ç»„
const digits = str.match(/\d+/);
console.log("matchå•æ¬¡åŒ¹é…:", digits);
// ['123', index: 12, input: 'Hello World 123, test@example.com', groups: undefined]

// ä½¿ç”¨å…¨å±€æ ‡å¿—g
const allDigits = str.match(/\d/g);
console.log("matchå…¨å±€åŒ¹é…:", allDigits); // ['1', '2', '3']

// 2. matchAll - æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…é¡¹ï¼ˆES2020ï¼‰ï¼Œè¿”å›è¿­ä»£å™¨
if ('matchAll' in String.prototype) {
  const regex = /([a-z]+)@([a-z]+)\.([a-z]+)/i; // åŒ¹é…email
  const matches = [...str.matchAll(regex)];
  console.log("matchAllç»“æœ:", matches);
  // åŒ…å«å®Œæ•´çš„æ•è·ç»„ä¿¡æ¯
}

// 3. search - æŸ¥æ‰¾åŒ¹é…é¡¹çš„ç´¢å¼•ï¼Œè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…ä½ç½®
console.log(str.search(/\d+/)); // 12
console.log(str.search(/xyz/)); // -1 (æœªæ‰¾åˆ°)

// 4. test - æ£€æŸ¥æ˜¯å¦å­˜åœ¨åŒ¹é…é¡¹ï¼ˆRegExpæ–¹æ³•ï¼‰
console.log(/World/.test(str)); // true
console.log(/\d{4}/.test(str)); // false (æ²¡æœ‰4ä½è¿ç»­æ•°å­—)

// 5. exec - åœ¨å­—ç¬¦ä¸²ä¸­æ‰§è¡ŒåŒ¹é…ï¼ˆRegExpæ–¹æ³•ï¼‰
const emailRegex = /([a-z]+)@([a-z]+)\.([a-z]+)/i;
const result = emailRegex.exec(str);
console.log("execç»“æœ:", result);
// ['test@example.com', 'test', 'example', 'com', index: 14, ...]
console.log("æ•è·ç»„:", result[1], result[2], result[3]); // test example com

// 6. å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼ç¤ºä¾‹
const patterns = {
  email: /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/,
  phone: /^\d{3}-\d{3}-\d{4}$/,
  url: /^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})([/\w.-]*)*\/?$/,
  date: /^\d{4}-\d{2}-\d{2}$/
};

// æµ‹è¯•æ­£åˆ™è¡¨è¾¾å¼
const testStr = {
  email: 'test@example.com',
  phone: '123-456-7890',
  url: 'https://example.com/path',
  date: '2023-01-15'
};

for (const key in testStr) {
  console.log(`${key} éªŒè¯:`, patterns[key].test(testStr[key]));
}

// æ‰§è¡Œç»“æœåˆ†æ
// 1. matchæ–¹æ³•å¯ä»¥è·å–å­—ç¬¦ä¸²ä¸­åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„éƒ¨åˆ†
// 2. matchAllæ–¹æ³•è¿”å›å¸¦æœ‰è¯¦ç»†æ•è·ç»„ä¿¡æ¯çš„è¿­ä»£å™¨
// 3. searchæ–¹æ³•è¿”å›åŒ¹é…ä½ç½®çš„ç´¢å¼•
// 4. testæ–¹æ³•æ£€æŸ¥æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦åŒ¹é…å­—ç¬¦ä¸²
// 5. execæ–¹æ³•æ‰§è¡Œæ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿”å›è¯¦ç»†åŒ¹é…ç»“æœ
// 6. æ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨äºéªŒè¯é‚®ç®±ã€ç”µè¯å·ç ã€URLç­‰æ ¼å¼
```

## å­—ç¬¦ä¸²çš„æ—¶é—´å¤æ‚åº¦

äº†è§£å­—ç¬¦ä¸²æ“ä½œçš„æ—¶é—´å¤æ‚åº¦æœ‰åŠ©äºç¼–å†™é«˜æ•ˆçš„æ–‡æœ¬å¤„ç†ä»£ç ã€‚

| æ“ä½œ | æ—¶é—´å¤æ‚åº¦ | è¯´æ˜ |
|------|-----------|------|
| è®¿é—®å­—ç¬¦ï¼ˆé€šè¿‡ç´¢å¼•ï¼‰ | O(1) | é€šè¿‡ç´¢å¼•ç›´æ¥è®¿é—®ï¼Œå¸¸æ•°æ—¶é—´ |
| è·å–é•¿åº¦ï¼ˆlengthå±æ€§ï¼‰ | O(1) | å­—ç¬¦ä¸²é•¿åº¦æ˜¯é¢„å…ˆè®¡ç®—çš„ |
| æŸ¥æ‰¾å­å­—ç¬¦ä¸²ï¼ˆindexOf/includesï¼‰ | O(n*m) | næ˜¯å­—ç¬¦ä¸²é•¿åº¦ï¼Œmæ˜¯å­å­—ç¬¦ä¸²é•¿åº¦ |
| æ‹¼æ¥å­—ç¬¦ä¸²ï¼ˆ+/concatï¼‰ | O(n+m) | nå’Œmæ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ |
| æ›¿æ¢å­å­—ç¬¦ä¸²ï¼ˆreplaceï¼‰ | O(n) | næ˜¯å­—ç¬¦ä¸²é•¿åº¦ |
| æå–å­å­—ç¬¦ä¸²ï¼ˆsubstring/sliceï¼‰ | O(k) | kæ˜¯æå–çš„å­å­—ç¬¦ä¸²é•¿åº¦ |
| æ­£åˆ™è¡¨è¾¾å¼æ“ä½œ | O(n) åˆ° O(2^n) | å–å†³äºæ­£åˆ™è¡¨è¾¾å¼å¤æ‚åº¦ï¼ŒæŸäº›æ¨¡å¼å¯èƒ½å¯¼è‡´æŒ‡æ•°çº§æ€§èƒ½ä¸‹é™ |

### å­—ç¬¦ä¸²æ€§èƒ½ä¼˜åŒ–

```javascript
// ç¤ºä¾‹ï¼šå­—ç¬¦ä¸²æ‹¼æ¥æ€§èƒ½æ¯”è¾ƒ
function testConcatenation(iterations) {
  // 1. ä½¿ç”¨+è¿ç®—ç¬¦
  console.time('Plus operator');
  let result1 = '';
  for (let i = 0; i < iterations; i++) {
    result1 += i.toString();
  }
  console.timeEnd('Plus operator');

  // 2. ä½¿ç”¨æ•°ç»„join
  console.time('Array join');
  const parts = [];
  for (let i = 0; i < iterations; i++) {
    parts.push(i.toString());
  }
  const result2 = parts.join('');
  console.timeEnd('Array join');

  // 3. ä½¿ç”¨æ•°ç»„joinï¼ˆé¢„åˆ†é…ï¼‰
  console.time('Array with capacity');
  const partsWithCapacity = new Array(iterations);
  for (let i = 0; i < iterations; i++) {
    partsWithCapacity[i] = i.toString();
  }
  const result3 = partsWithCapacity.join('');
  console.timeEnd('Array with capacity');

  // éªŒè¯ç»“æœä¸€è‡´æ€§
  console.log("ç»“æœé•¿åº¦ä¸€è‡´:",
    result1.length === result2.length &&
    result2.length === result3.length);
}

// è¿è¡Œä¸åŒè§„æ¨¡çš„æµ‹è¯•
testConcatenation(1000);    // å°è§„æ¨¡
testConcatenation(10000);   // ä¸­è§„æ¨¡
testConcatenation(100000);  // å¤§è§„æ¨¡

// è¾“å‡ºç¤ºä¾‹ï¼ˆæ€§èƒ½å› ç¯å¢ƒè€Œå¼‚ï¼‰:
// å°è§„æ¨¡æµ‹è¯•ï¼š
// Plus operator: 0.123ms
// Array join: 0.217ms
// Array with capacity: 0.185ms
// ç»“æœé•¿åº¦ä¸€è‡´: true

// ä¸­è§„æ¨¡æµ‹è¯•ï¼š
// Plus operator: 7.528ms
// Array join: 2.341ms
// Array with capacity: 1.847ms
// ç»“æœé•¿åº¦ä¸€è‡´: true

// å¤§è§„æ¨¡æµ‹è¯•ï¼š
// Plus operator: 452.317ms
// Array join: 24.762ms
// Array with capacity: 20.132ms
// ç»“æœé•¿åº¦ä¸€è‡´: true

// ç»“è®ºï¼š
// 1. å¯¹äºå°è§„æ¨¡æ‹¼æ¥ï¼Œ+è¿ç®—ç¬¦ç®€å•ä¸”å¿«é€Ÿ
// 2. å¯¹äºä¸­å¤§è§„æ¨¡æ‹¼æ¥ï¼Œæ•°ç»„joinæ–¹æ³•æ˜æ˜¾æ›´å¿«
// 3. é¢„åˆ†é…æ•°ç»„å®¹é‡å¯ä»¥è¿›ä¸€æ­¥æé«˜æ€§èƒ½
// 4. éšç€æ‹¼æ¥è§„æ¨¡å¢å¤§ï¼Œ+è¿ç®—ç¬¦æ€§èƒ½ä¸‹é™æ›´æ˜¾è‘—
```

## æ•°ç»„å’Œå­—ç¬¦ä¸²çš„å¸¸è§ç®—æ³•é¢˜

### 1. ä¸¤æ•°ä¹‹å’Œ

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œæ‰¾å‡ºæ•°ç»„ä¸­å’Œä¸ºç›®æ ‡å€¼çš„ä¸¤ä¸ªæ•°çš„ç´¢å¼•ã€‚

#### é—®é¢˜æè¿°

**è¾“å…¥**:
- `nums`: ä¸€ä¸ªæ•´æ•°æ•°ç»„
- `target`: ä¸€ä¸ªç›®æ ‡æ•´æ•°å€¼

**è¾“å‡º**:
- ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«ä¸¤ä¸ªç´¢å¼•å€¼ï¼Œè¿™ä¸¤ä¸ªç´¢å¼•å¯¹åº”çš„å…ƒç´ ä¹‹å’Œç­‰äºç›®æ ‡å€¼

**ç¤ºä¾‹1**:
```
è¾“å…¥: nums = [2, 7, 11, 15], target = 9
è¾“å‡º: [0, 1]
è§£é‡Š: nums[0] + nums[1] = 2 + 7 = 9
```

**ç¤ºä¾‹2**:
```
è¾“å…¥: nums = [3, 2, 4], target = 6
è¾“å‡º: [1, 2]
è§£é‡Š: nums[1] + nums[2] = 2 + 4 = 6
```

#### è§£é¢˜æ€è·¯

æœ€ç›´è§‚çš„æ–¹æ³•æ˜¯ä½¿ç”¨åµŒå¥—å¾ªç¯æ£€æŸ¥æ¯å¯¹æ•°å­—ï¼Œä½†æ—¶é—´å¤æ‚åº¦ä¸ºO(nÂ²)ã€‚æ›´é«˜æ•ˆçš„æ–¹æ³•æ˜¯ä½¿ç”¨å“ˆå¸Œè¡¨è®°å½•å·²ç»éå†è¿‡çš„æ•°å­—ï¼Œå®ç°O(n)çš„æ—¶é—´å¤æ‚åº¦ã€‚

#### ä»£ç å®ç°

```javascript
/**
 * @description æŸ¥æ‰¾æ•°ç»„ä¸­å’Œä¸ºç›®æ ‡å€¼çš„ä¸¤ä¸ªæ•°çš„ç´¢å¼•
 * @param {number[]} nums - æ•´æ•°æ•°ç»„
 * @param {number} target - ç›®æ ‡å€¼
 * @return {number[]} - å’Œä¸ºç›®æ ‡å€¼çš„ä¸¤ä¸ªæ•°çš„ç´¢å¼•
 */
function twoSum(nums, target) {
  // ä½¿ç”¨Mapè®°å½•å·²ç»éå†è¿‡çš„æ•°å­—å’Œç´¢å¼•
  const map = new Map();

  for (let i = 0; i < nums.length; i++) {
    // è®¡ç®—å½“å‰æ•°å­—éœ€è¦çš„é…å¯¹æ•°å­—
    const complement = target - nums[i];

    // æ£€æŸ¥é…å¯¹æ•°å­—æ˜¯å¦å·²ç»åœ¨Mapä¸­
    if (map.has(complement)) {
      return [map.get(complement), i];
    }

    // å°†å½“å‰æ•°å­—å’Œç´¢å¼•å­˜å…¥Map
    map.set(nums[i], i);
  }

  // å¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„å¯¹ï¼Œè¿”å›ç©ºæ•°ç»„
  return [];
}
```

#### è°ƒç”¨ç¤ºä¾‹

```javascript
// ç¤ºä¾‹1
const nums1 = [2, 7, 11, 15];
const target1 = 9;
console.log(twoSum(nums1, target1)); // è¾“å‡º: [0, 1]

// ç¤ºä¾‹2
const nums2 = [3, 2, 4];
const target2 = 6;
console.log(twoSum(nums2, target2)); // è¾“å‡º: [1, 2]

// ç¤ºä¾‹3
const nums3 = [3, 3];
const target3 = 6;
console.log(twoSum(nums3, target3)); // è¾“å‡º: [0, 1]

// æ‰§è¡Œè¿‡ç¨‹åˆ†æï¼ˆä»¥ç¤ºä¾‹1ä¸ºä¾‹ï¼‰:
// 1. åˆ›å»ºç©ºMap
// 2. i=0: nums[0]=2, complement=7, mapä¸ºç©º, å°†2->0å­˜å…¥map
// 3. i=1: nums[1]=7, complement=2, mapä¸­æœ‰2, è¿”å›[0,1]
```

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**: O(n) - åªéœ€éå†æ•°ç»„ä¸€æ¬¡
- **ç©ºé—´å¤æ‚åº¦**: O(n) - æœ€åæƒ…å†µä¸‹å­˜å‚¨nä¸ªå…ƒç´ åˆ°å“ˆå¸Œè¡¨ä¸­

### 2. å›æ–‡å­—ç¬¦ä¸²åˆ¤æ–­

#### é—®é¢˜æè¿°

åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯å›æ–‡å­—ç¬¦ä¸²ï¼ˆå¿½ç•¥éå­—æ¯æ•°å­—å­—ç¬¦å’Œå¤§å°å†™ï¼‰ã€‚

**è¾“å…¥**:
- ä¸€ä¸ªå­—ç¬¦ä¸² `s`

**è¾“å‡º**:
- å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸²æ˜¯å¦ä¸ºå›æ–‡

**ç¤ºä¾‹1**:
```
è¾“å…¥: "A man, a plan, a canal: Panama"
è¾“å‡º: true
è§£é‡Š: å¿½ç•¥éå­—æ¯æ•°å­—å­—ç¬¦å’Œå¤§å°å†™åæ˜¯ "amanaplanacanalpanama"ï¼Œæ­£ç€è¯»å’Œå€’ç€è¯»ä¸€æ ·
```

**ç¤ºä¾‹2**:
```
è¾“å…¥: "race a car"
è¾“å‡º: false
è§£é‡Š: å¿½ç•¥éå­—æ¯æ•°å­—å­—ç¬¦å’Œå¤§å°å†™åæ˜¯ "raceacar"ï¼Œä¸æ˜¯å›æ–‡
```

#### è§£é¢˜æ€è·¯

1. å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ï¼Œå¹¶ç§»é™¤æ‰€æœ‰éå­—æ¯æ•°å­—å­—ç¬¦
2. ä½¿ç”¨åŒæŒ‡é’ˆä»ä¸¤ç«¯å‘ä¸­é—´ç§»åŠ¨ï¼Œæ¯”è¾ƒå­—ç¬¦æ˜¯å¦ç›¸åŒ

#### ä»£ç å®ç°

```javascript
/**
 * @description åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºå›æ–‡ï¼ˆå¿½ç•¥éå­—æ¯æ•°å­—å­—ç¬¦å’Œå¤§å°å†™ï¼‰
 * @param {string} s - è¾“å…¥å­—ç¬¦ä¸²
 * @return {boolean} - æ˜¯å¦ä¸ºå›æ–‡
 */
function isPalindrome(s) {
  // å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ï¼Œå¹¶ç§»é™¤éå­—æ¯æ•°å­—å­—ç¬¦
  s = s.toLowerCase().replace(/[^a-z0-9]/g, '');

  // åŒæŒ‡é’ˆæ³•
  let left = 0;
  let right = s.length - 1;

  while (left < right) {
    if (s[left] !== s[right]) {
      return false;
    }
    left++;
    right--;
  }

  return true;
}
```

#### è°ƒç”¨ç¤ºä¾‹

```javascript
// ç¤ºä¾‹1
const str1 = "A man, a plan, a canal: Panama";
console.log(isPalindrome(str1)); // è¾“å‡º: true

// ç¤ºä¾‹2
const str2 = "race a car";
console.log(isPalindrome(str2)); // è¾“å‡º: false

// ç¤ºä¾‹3
const str3 = "Was it a car or a cat I saw?";
console.log(isPalindrome(str3)); // è¾“å‡º: true

// æ‰§è¡Œè¿‡ç¨‹åˆ†æï¼ˆä»¥ç¤ºä¾‹1ä¸ºä¾‹ï¼‰:
// 1. è½¬æ¢å: s = "amanaplanacanalpanama"
// 2. left=0, right=20: s[0]='a', s[20]='a', ç›¸ç­‰, left++, right--
// 3. left=1, right=19: s[1]='m', s[19]='m', ç›¸ç­‰, left++, right--
// ... ç»§ç»­æ¯”è¾ƒ ...
// 4. æ‰€æœ‰å­—ç¬¦éƒ½åŒ¹é…ï¼Œè¿”å›true
```

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**: O(n) - næ˜¯å­—ç¬¦ä¸²é•¿åº¦
- **ç©ºé—´å¤æ‚åº¦**: O(n) - åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¤„ç†è¿‡çš„å­—ç¬¦ä¸²ï¼ˆå¯ä¼˜åŒ–ä¸ºO(1)ï¼‰

### 3. æœ€é•¿å…¬å…±å‰ç¼€

#### é—®é¢˜æè¿°

ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æŸ¥æ‰¾å­—ç¬¦ä¸²æ•°ç»„ä¸­çš„æœ€é•¿å…¬å…±å‰ç¼€ã€‚

**è¾“å…¥**:
- ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ `strs`

**è¾“å‡º**:
- æœ€é•¿å…¬å…±å‰ç¼€å­—ç¬¦ä¸²

**ç¤ºä¾‹1**:
```
è¾“å…¥: ["flower", "flow", "flight"]
è¾“å‡º: "fl"
```

**ç¤ºä¾‹2**:
```
è¾“å…¥: ["dog", "racecar", "car"]
è¾“å‡º: ""
è§£é‡Š: è¿™ä¸‰ä¸ªå­—ç¬¦ä¸²æ²¡æœ‰å…¬å…±å‰ç¼€
```

#### è§£é¢˜æ€è·¯

ä»¥ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ºåŸºå‡†ï¼Œé€æ­¥ç¼©çŸ­å‰ç¼€ç›´åˆ°æ‰€æœ‰å­—ç¬¦ä¸²éƒ½ä»¥è¯¥å‰ç¼€å¼€å¤´ã€‚

#### ä»£ç å®ç°

```javascript
/**
 * @description æŸ¥æ‰¾å­—ç¬¦ä¸²æ•°ç»„ä¸­çš„æœ€é•¿å…¬å…±å‰ç¼€
 * @param {string[]} strs - å­—ç¬¦ä¸²æ•°ç»„
 * @return {string} - æœ€é•¿å…¬å…±å‰ç¼€
 */
function longestCommonPrefix(strs) {
  if (strs.length === 0) return "";

  // ä»¥ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ºåŸºå‡†
  let prefix = strs[0];

  for (let i = 1; i < strs.length; i++) {
    // å½“å‰å­—ç¬¦ä¸²ä¸ä»¥prefixä¸ºå‰ç¼€æ—¶ï¼Œç¼©çŸ­prefix
    while (strs[i].indexOf(prefix) !== 0) {
      prefix = prefix.substring(0, prefix.length - 1);
      if (prefix === "") return "";
    }
  }

  return prefix;
}
```

#### è°ƒç”¨ç¤ºä¾‹

```javascript
// ç¤ºä¾‹1
const strs1 = ["flower", "flow", "flight"];
console.log(longestCommonPrefix(strs1)); // è¾“å‡º: "fl"

// ç¤ºä¾‹2
const strs2 = ["dog", "racecar", "car"];
console.log(longestCommonPrefix(strs2)); // è¾“å‡º: ""

// ç¤ºä¾‹3
const strs3 = ["apple", "apple", "apple"];
console.log(longestCommonPrefix(strs3)); // è¾“å‡º: "apple"

// æ‰§è¡Œè¿‡ç¨‹åˆ†æï¼ˆä»¥ç¤ºä¾‹1ä¸ºä¾‹ï¼‰:
// 1. prefix = "flower"
// 2. æ£€æŸ¥"flow": "flower"ä¸æ˜¯"flow"çš„å‰ç¼€
//    - ç¼©çŸ­prefixä¸º"flowe"
//    - ç»§ç»­æ£€æŸ¥ï¼Œæœ€ç»ˆç¼©çŸ­ä¸º"flow"
// 3. æ£€æŸ¥"flight": "flow"ä¸æ˜¯"flight"çš„å‰ç¼€
//    - ç¼©çŸ­prefixä¸º"flo"ï¼Œå†åˆ°"fl"
//    - "fl"æ˜¯"flight"çš„å‰ç¼€ï¼Œç»§ç»­
// 4. æ‰€æœ‰å­—ç¬¦ä¸²å·²æ£€æŸ¥ï¼Œè¿”å›"fl"
```

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**: O(S) - Sæ˜¯æ‰€æœ‰å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„æ€»æ•°
- **ç©ºé—´å¤æ‚åº¦**: O(1) - åªä½¿ç”¨äº†å¸¸æ•°çº§é¢å¤–ç©ºé—´

## é¢è¯•å¸¸è§é—®é¢˜

### 1. JavaScriptä¸­æ•°ç»„å’Œå¯¹è±¡çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

**ç­”**ï¼š
JavaScriptä¸­æ•°ç»„å’Œå¯¹è±¡æœ‰ä»¥ä¸‹ä¸»è¦åŒºåˆ«ï¼š

1. **ç´¢å¼•ç±»å‹**ï¼šæ•°ç»„ä½¿ç”¨æ•´æ•°ç´¢å¼•ï¼Œå¯¹è±¡ä½¿ç”¨å­—ç¬¦ä¸²ï¼ˆæˆ–Symbolï¼‰é”®
2. **é¡ºåºæ€§**ï¼šæ•°ç»„å…ƒç´ æœ‰åºä¸”ä¿ç•™é¡ºåºï¼Œå¯¹è±¡å±æ€§åœ¨ES2015ä¹‹å‰ä¸ä¿è¯é¡ºåº
3. **é•¿åº¦å±æ€§**ï¼šæ•°ç»„æœ‰è‡ªåŠ¨ç»´æŠ¤çš„`length`å±æ€§ï¼Œå¯¹è±¡æ²¡æœ‰
4. **åŸå‹é“¾**ï¼šæ•°ç»„ç»§æ‰¿è‡ª`Array.prototype`ï¼Œå¯¹è±¡ç»§æ‰¿è‡ª`Object.prototype`
5. **å†…ç½®æ–¹æ³•**ï¼šæ•°ç»„æœ‰å¤§é‡è¿­ä»£å’Œè½¬æ¢æ–¹æ³•ï¼ˆmapã€filterã€reduceç­‰ï¼‰
6. **å†…å­˜å¸ƒå±€**ï¼šå¼•æ“ä¼šå¯¹æ•°ç»„ï¼ˆå°¤å…¶æ˜¯å¯†é›†æ•°ç»„ï¼‰è¿›è¡Œç‰¹æ®Šä¼˜åŒ–

```javascript
// æ•°ç»„ç¤ºä¾‹
const arr = [1, 2, 3];
console.log(arr[0]); // 1
console.log(arr.length); // 3
arr.push(4); // æ·»åŠ å…ƒç´ 
console.log(arr); // [1, 2, 3, 4]

// å¯¹è±¡ç¤ºä¾‹
const obj = { a: 1, b: 2, c: 3 };
console.log(obj.a); // 1
console.log(obj['b']); // 2
obj.d = 4; // æ·»åŠ å±æ€§
console.log(obj); // { a: 1, b: 2, c: 3, d: 4 }

// æ€§èƒ½æµ‹è¯•
const SIZE = 1000000;
const sparseArray = new Array(SIZE);
const denseArray = Array.from({length: SIZE}, (_, i) => i);
const objectMap = {};

console.time('ç¨€ç–æ•°ç»„è¯»å–');
sparseArray[SIZE-1];
console.timeEnd('ç¨€ç–æ•°ç»„è¯»å–');

console.time('å¯†é›†æ•°ç»„è¯»å–');
denseArray[SIZE-1];
console.timeEnd('å¯†é›†æ•°ç»„è¯»å–');

console.time('å¯¹è±¡è¯»å–');
objectMap[SIZE-1];
console.timeEnd('å¯¹è±¡è¯»å–');

// ç¤ºä¾‹è¾“å‡ºï¼š
// ç¨€ç–æ•°ç»„è¯»å–: 0.008ms
// å¯†é›†æ•°ç»„è¯»å–: 0.004ms
// å¯¹è±¡è¯»å–: 0.005ms
```

### 2. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æ•°ç»„ï¼Ÿ

**ç­”**ï¼š
åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æ•°ç»„æœ‰ä»¥ä¸‹å‡ ç§å¯é æ–¹æ³•ï¼š

```javascript
const arr = [1, 2, 3];
const obj = { length: 3 };
const str = 'hello';

// 1. Array.isArray()æ–¹æ³•ï¼ˆES5+ï¼Œæœ€æ¨èçš„æ–¹æ³•ï¼‰
console.log(Array.isArray(arr)); // true
console.log(Array.isArray(obj)); // false
console.log(Array.isArray(str)); // false

// 2. instanceofè¿ç®—ç¬¦ï¼ˆåœ¨å•ä¸€å…¨å±€ç¯å¢ƒä¸­æœ‰æ•ˆï¼‰
console.log(arr instanceof Array); // true
console.log(obj instanceof Array); // false

// 3. Object.prototype.toString.call()ï¼ˆè·¨iframeæœ€å¯é ï¼‰
console.log(Object.prototype.toString.call(arr)); // '[object Array]'
console.log(Object.prototype.toString.call(obj)); // '[object Object]'

// 4. Array.prototypeæ–¹æ³•æ£€æŸ¥ï¼ˆä¸æ¨èï¼‰
console.log(Array.prototype.isPrototypeOf(arr)); // true

// 5. æ„é€ å‡½æ•°æ£€æŸ¥ï¼ˆä¸æ¨èï¼‰
console.log(arr.constructor === Array); // true

// å°è£…ä¸€ä¸ªå¯é çš„åˆ¤æ–­å‡½æ•°
function isArray(value) {
  // ä¼˜å…ˆä½¿ç”¨Array.isArrayï¼Œä¸å¯ç”¨æ—¶å›é€€åˆ°toStringæ–¹æ³•
  return Array.isArray
    ? Array.isArray(value)
    : Object.prototype.toString.call(value) === '[object Array]';
}

// å„æ–¹æ³•çš„å…¼å®¹æ€§å’Œå¯é æ€§æ¯”è¾ƒ
const arrayLike = document.querySelectorAll('div'); // ç±»æ•°ç»„å¯¹è±¡
console.log("Array.isArray:", Array.isArray(arrayLike)); // falseï¼ˆæ­£ç¡®ï¼‰
console.log("instanceof:", arrayLike instanceof Array); // falseï¼ˆæ­£ç¡®ï¼‰
console.log("toString:", Object.prototype.toString.call(arrayLike)); // '[object NodeList]'

// è·¨iframeæµ‹è¯•ï¼ˆæ¨¡æ‹Ÿï¼‰
function testCrossOriginArray() {
  const iframe = document.createElement('iframe');
  document.body.appendChild(iframe);
  const iframeArray = iframe.contentWindow.Array([1,2,3]);

  console.log("Array.isArray:", Array.isArray(iframeArray)); // trueï¼ˆæ­£ç¡®ï¼Œå¤„ç†è·¨iframeï¼‰
  console.log("instanceof:", iframeArray instanceof Array); // falseï¼ˆé”™è¯¯ï¼Œè·¨iframeå¤±æ•ˆï¼‰
  console.log("toString:", Object.prototype.toString.call(iframeArray)); // '[object Array]'ï¼ˆæ­£ç¡®ï¼‰

  document.body.removeChild(iframe);
}
```

### 3. æ•°ç»„çš„forEachå’Œmapæ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**ç­”**ï¼š
`forEach`å’Œ`map`æ–¹æ³•çš„ä¸»è¦åŒºåˆ«ï¼š

1. **è¿”å›å€¼**ï¼š
   - `map`è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼ŒåŒ…å«æ¯æ¬¡å›è°ƒå‡½æ•°çš„è¿”å›å€¼
   - `forEach`è¿”å›undefinedï¼Œä¸åˆ›å»ºæ–°æ•°ç»„

2. **ç”¨é€”**ï¼š
   - `map`ç”¨äºæ•°æ®è½¬æ¢ï¼Œåˆ›å»ºæ–°çš„æ•°æ®é›†åˆ
   - `forEach`ç”¨äºæ‰§è¡Œå‰¯ä½œç”¨æ“ä½œï¼Œå¦‚æ›´æ–°å˜é‡æˆ–æ‰“å°å€¼

3. **é“¾å¼è°ƒç”¨**ï¼š
   - `map`å¯ä»¥ç»§ç»­é“¾å¼è°ƒç”¨å…¶ä»–æ•°ç»„æ–¹æ³•
   - `forEach`ä¸èƒ½é“¾å¼è°ƒç”¨ï¼Œå› ä¸ºè¿”å›undefined

4. **ä¸­æ–­æ‰§è¡Œ**ï¼š
   - ä¸¤è€…éƒ½ä¸èƒ½é€šè¿‡`return`ä¸­æ–­å¾ªç¯ï¼ˆåŒºåˆ«äºæ™®é€šforå¾ªç¯ï¼‰
   - éœ€ä¸­æ–­å¾ªç¯æ—¶åº”ä½¿ç”¨forå¾ªç¯ã€for...ofæˆ–some/everyç­‰

```javascript
const numbers = [1, 2, 3, 4, 5];

// forEachç¤ºä¾‹ - æ‰§è¡Œæ“ä½œï¼Œæ— è¿”å›å€¼
console.log("=== forEachç¤ºä¾‹ ===");
let sum = 0;
const forEachResult = numbers.forEach(num => {
  sum += num;
  return num * 2; // è¿”å›å€¼è¢«å¿½ç•¥
});
console.log("sum:", sum); // 15
console.log("forEachResult:", forEachResult); // undefined

// mapç¤ºä¾‹ - è½¬æ¢æ•°æ®ï¼Œè¿”å›æ–°æ•°ç»„
console.log("=== mapç¤ºä¾‹ ===");
const mapResult = numbers.map(num => {
  // mapä¸ä¿®æ”¹å¤–éƒ¨å˜é‡æ˜¯è‰¯å¥½å®è·µ
  return num * 2;
});
console.log("åŸæ•°ç»„ä¸å˜:", numbers); // [1, 2, 3, 4, 5]
console.log("mapResult:", mapResult); // [2, 4, 6, 8, 10]

// é“¾å¼è°ƒç”¨ç¤ºä¾‹
console.log("=== é“¾å¼è°ƒç”¨ç¤ºä¾‹ ===");
const chainResult = numbers
  .map(num => num * 2)
  .filter(num => num > 5)
  .reduce((acc, num) => acc + num, 0);
console.log("é“¾å¼è°ƒç”¨ç»“æœ:", chainResult); // 8 + 10 = 18

// æ€§èƒ½æ¯”è¾ƒ
console.log("=== æ€§èƒ½æ¯”è¾ƒ ===");
const largeArray = Array.from({length: 1000000}, (_, i) => i);

console.time('forEach');
let forEachSum = 0;
largeArray.forEach(num => {
  forEachSum += num;
});
console.timeEnd('forEach');

console.time('map');
const doubled = largeArray.map(num => num * 2);
console.timeEnd('map');

console.time('for loop');
let forSum = 0;
for (let i = 0; i < largeArray.length; i++) {
  forSum += largeArray[i];
}
console.timeEnd('for loop');

// ç¤ºä¾‹è¾“å‡ºï¼š
// forEach: 15.03ms
// map: 27.28ms (éœ€è¦åˆ›å»ºæ–°æ•°ç»„)
// for loop: 9.76ms (é€šå¸¸æœ€å¿«)
```

### 4. å¦‚ä½•å®ç°æ•°ç»„å»é‡ï¼Ÿ

**ç­”**ï¼š
å®ç°æ•°ç»„å»é‡çš„å¤šç§æ–¹æ³•å’Œæ€§èƒ½æ¯”è¾ƒï¼š

```javascript
// æµ‹è¯•æ•°æ®
const arr = [1, 2, 2, 3, 4, 4, 5, 5, 5, 'a', 'a', 'b', true, true, {}, {}];

// 1. ä½¿ç”¨Setï¼ˆES6+ï¼Œæœ€ç®€æ´é«˜æ•ˆï¼‰
function dedupeWithSet(arr) {
  return [...new Set(arr)];
  // æˆ–ä½¿ç”¨ Array.from(new Set(arr));
}

// 2. ä½¿ç”¨filterå’ŒindexOf
function dedupeWithFilter(arr) {
  return arr.filter((item, index) => arr.indexOf(item) === index);
}

// 3. ä½¿ç”¨reduceå’Œincludes
function dedupeWithReduce(arr) {
  return arr.reduce((acc, curr) => {
    if (!acc.includes(curr)) {
      acc.push(curr);
    }
    return acc;
  }, []);
}

// 4. ä½¿ç”¨å¯¹è±¡/Mapä½œä¸ºå“ˆå¸Œè¡¨ï¼ˆå¤„ç†åŸºæœ¬ç±»å‹ï¼‰
function dedupeWithObject(arr) {
  const obj = {};
  const result = [];

  for (let i = 0; i < arr.length; i++) {
    // ä½¿ç”¨typeof + å€¼ä½œä¸ºé”®ï¼Œè§£å†³ä¸åŒç±»å‹é—®é¢˜
    const key = typeof arr[i] + JSON.stringify(arr[i]);
    if (!obj[key]) {
      obj[key] = true;
      result.push(arr[i]);
    }
  }

  return result;
}

// 5. ä½¿ç”¨Mapï¼ˆå¤„ç†æ‰€æœ‰ç±»å‹ï¼ŒåŒ…æ‹¬å¯¹è±¡ï¼‰
function dedupeWithMap(arr) {
  const map = new Map();
  const result = [];

  for (let i = 0; i < arr.length; i++) {
    if (!map.has(arr[i])) {
      map.set(arr[i], true);
      result.push(arr[i]);
    }
  }

  return result;
}

// æ€§èƒ½æµ‹è¯•
function testPerformance() {
  const testArr = Array.from({length: 100000}, () => Math.floor(Math.random() * 1000));

  console.time('Set');
  dedupeWithSet(testArr);
  console.timeEnd('Set');

  console.time('Filter');
  dedupeWithFilter(testArr);
  console.timeEnd('Filter');

  console.time('Reduce');
  dedupeWithReduce(testArr);
  console.timeEnd('Reduce');

  console.time('Object');
  dedupeWithObject(testArr);
  console.timeEnd('Object');

  console.time('Map');
  dedupeWithMap(testArr);
  console.timeEnd('Map');
}

// è¿è¡Œæµ‹è¯•
console.log("=== ç»“æœæ¯”è¾ƒ ===");
console.log("åŸå§‹æ•°ç»„:", arr);
console.log("Setæ–¹æ³•:", dedupeWithSet(arr));
console.log("Filteræ–¹æ³•:", dedupeWithFilter(arr));
console.log("Reduceæ–¹æ³•:", dedupeWithReduce(arr));
console.log("Objectæ–¹æ³•:", dedupeWithObject(arr));
console.log("Mapæ–¹æ³•:", dedupeWithMap(arr));

console.log("=== æ€§èƒ½æ¯”è¾ƒ ===");
testPerformance();

// æ³¨æ„ï¼šä¸¤ä¸ªç©ºå¯¹è±¡{}ä¼šè¢«è§†ä¸ºä¸åŒå…ƒç´ 
// Set/Mapç»“æœ: [1, 2, 3, 4, 5, 'a', 'b', true, {}, {}]
// å› ä¸ºå¯¹è±¡æ¯”è¾ƒçš„æ˜¯å¼•ç”¨ï¼Œä¸æ˜¯å†…å®¹

// æ€§èƒ½è¾“å‡ºç¤ºä¾‹ï¼š
// Set: 11.08ms
// Filter: 6734.55ms (æ€§èƒ½è¾ƒå·®ï¼Œå› ä¸ºindexOfæ˜¯O(n))
// Reduce: 7245.32ms (æ€§èƒ½è¾ƒå·®ï¼ŒåŒæ ·å› ä¸ºincludesæ˜¯O(n))
// Object: 24.33ms
// Map: 28.77ms
```

### 5. å­—ç¬¦ä¸²å’Œæ•°ç»„æœ‰ä»€ä¹ˆç›¸ä¼¼ä¹‹å¤„å’Œä¸åŒä¹‹å¤„ï¼Ÿ

**ç­”**ï¼š
å­—ç¬¦ä¸²å’Œæ•°ç»„çš„ç›¸ä¼¼ç‚¹å’Œä¸åŒç‚¹ï¼š

```javascript
// ç›¸ä¼¼ä¹‹å¤„æ¼”ç¤º
const str = "hello";
const arr = ['h', 'e', 'l', 'l', 'o'];

// 1. ç´¢å¼•è®¿é—®
console.log("===ç›¸ä¼¼ä¹‹å¤„===");
console.log("ç´¢å¼•è®¿é—®:");
console.log(str[0], arr[0]); // h h

// 2. lengthå±æ€§
console.log("lengthå±æ€§:");
console.log(str.length, arr.length); // 5 5

// 3. è¿­ä»£
console.log("è¿­ä»£:");
for (let i = 0; i < 2; i++) {
  console.log(str[i], arr[i]);
}

// 4. å…±æœ‰çš„æ–¹æ³•
console.log("å…±æœ‰æ–¹æ³• - indexOf:");
console.log(str.indexOf('l'), arr.indexOf('l')); // 2 2

console.log("å…±æœ‰æ–¹æ³• - includes:");
console.log(str.includes('e'), arr.includes('e')); // true true

console.log("å…±æœ‰æ–¹æ³• - slice:");
console.log(str.slice(1, 3), arr.slice(1, 3)); // el ['e', 'l']

// ä¸åŒä¹‹å¤„æ¼”ç¤º
console.log("===ä¸åŒä¹‹å¤„===");

// 1. å¯å˜æ€§
console.log("å¯å˜æ€§:");
arr[0] = 'H'; // å¯ä»¥ä¿®æ”¹
console.log(arr); // ['H', 'e', 'l', 'l', 'o']

str[0] = 'H'; // ä¸èƒ½ä¿®æ”¹
console.log(str); // ä»ç„¶æ˜¯ "hello"

// 2. ä¸“ç”¨æ–¹æ³•
console.log("ä¸“ç”¨æ–¹æ³•:");
// æ•°ç»„ç‰¹æœ‰æ–¹æ³•
console.log("æ•°ç»„ push:", arr.push('!')); // 6
console.log(arr); // ['H', 'e', 'l', 'l', 'o', '!']

// å­—ç¬¦ä¸²ç‰¹æœ‰æ–¹æ³•
console.log("å­—ç¬¦ä¸² toUpperCase:", str.toUpperCase()); // HELLO
console.log(str); // ä»ç„¶æ˜¯ "hello"ï¼Œä¸å¯å˜

// 3. è½¬æ¢æ–¹æ³•
console.log("äº’ç›¸è½¬æ¢:");
// å­—ç¬¦ä¸²è½¬æ•°ç»„
const strToArr = str.split('');
console.log(strToArr); // ['h', 'e', 'l', 'l', 'o']

// æ•°ç»„è½¬å­—ç¬¦ä¸²
const arrToStr = arr.join('');
console.log(arrToStr); // Hello!

// 4. å†…å­˜è¡¨ç¤º
console.log("ç±»å‹:");
console.log(typeof str); // string - åŸºæœ¬ç±»å‹
console.log(typeof arr); // object - å¼•ç”¨ç±»å‹

// 5. å­—ç¬¦ä¸²ä¸å¯å˜æ€§çš„å½±å“
console.log("ä¸å¯å˜æ€§å½±å“:");

console.time('å­—ç¬¦ä¸²æ‹¼æ¥');
let s = '';
for (let i = 0; i < 10000; i++) {
  s += 'a';
}
console.timeEnd('å­—ç¬¦ä¸²æ‹¼æ¥');

console.time('æ•°ç»„æ‹¼æ¥');
let a = [];
for (let i = 0; i < 10000; i++) {
  a.push('a');
}
const result = a.join('');
console.timeEnd('æ•°ç»„æ‹¼æ¥');

// ç¤ºä¾‹è¾“å‡º:
// å­—ç¬¦ä¸²æ‹¼æ¥: 16.45ms
// æ•°ç»„æ‹¼æ¥: 0.63ms
```

### 6. JavaScriptä¸­å­—ç¬¦ä¸²ä¸ºä»€ä¹ˆæ˜¯ä¸å¯å˜çš„ï¼Ÿè¿™æœ‰ä»€ä¹ˆå½±å“ï¼Ÿ

**ç­”**ï¼š
JavaScriptä¸­å­—ç¬¦ä¸²ä¸å¯å˜çš„åŸå› å’Œå½±å“ï¼š

```javascript
// 1. å­—ç¬¦ä¸²ä¸å¯å˜æ€§æ¼”ç¤º
let str = "Hello";

// å°è¯•ä¿®æ”¹å­—ç¬¦ä¸²
str[0] = "h"; // è¿™ä¸ä¼šç”Ÿæ•ˆ
console.log(str); // ä»ç„¶æ˜¯ "Hello"

// å®é™…ä¸Šåˆ›å»ºäº†æ–°å­—ç¬¦ä¸²
str = "h" + str.substring(1);
console.log(str); // "hello"

// 2. ä¸å¯å˜æ€§çš„å†…å­˜å½±å“
let s1 = "Hello";
let s2 = "Hello"; // å¯èƒ½å…±äº«ç›¸åŒçš„å†…å­˜å¼•ç”¨
let s3 = s1; // ä¸éœ€è¦å¤åˆ¶ï¼Œå› ä¸ºå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„

// ä¿®æ”¹s1å®é™…ä¸Šåˆ›å»ºæ–°å­—ç¬¦ä¸²
s1 = "Hello World";
console.log(s1); // "Hello World"
console.log(s2); // ä»ç„¶æ˜¯ "Hello"
console.log(s3); // ä»ç„¶æ˜¯ "Hello"

// 3. ä¸å¯å˜å­—ç¬¦ä¸²çš„æ€§èƒ½è€ƒé‡
console.log("===æ€§èƒ½å½±å“===");

// 3.1 å¤§é‡æ‹¼æ¥çš„æ€§èƒ½é—®é¢˜
console.time('ç›´æ¥æ‹¼æ¥');
let result1 = "";
for (let i = 0; i < 100000; i++) {
  result1 += i; // æ¯æ¬¡åˆ›å»ºæ–°å­—ç¬¦ä¸²
}
console.timeEnd('ç›´æ¥æ‹¼æ¥');

// 3.2 ä½¿ç”¨æ•°ç»„joinä¼˜åŒ–
console.time('æ•°ç»„join');
const parts = [];
for (let i = 0; i < 100000; i++) {
  parts.push(i);
}
const result2 = parts.join('');
console.timeEnd('æ•°ç»„join');

// 3.3 ä½¿ç”¨StringBufferæ¨¡å¼
console.time('StringBufferæ¨¡å¼');
class StringBuffer {
  constructor() {
    this.parts = [];
  }

  append(str) {
    this.parts.push(str);
    return this;
  }

  toString() {
    return this.parts.join('');
  }
}

const buffer = new StringBuffer();
for (let i = 0; i < 100000; i++) {
  buffer.append(i);
}
const result3 = buffer.toString();
console.timeEnd('StringBufferæ¨¡å¼');

// 4. å¯¹ä»£ç é£æ ¼çš„å½±å“
// ä¸å¯å˜æ€§é¼“åŠ±å‡½æ•°å¼ç¼–ç¨‹é£æ ¼
function processString(str) {
  // ä¸ä¿®æ”¹è¾“å…¥ï¼Œè¿”å›æ–°å­—ç¬¦ä¸²
  return str.toUpperCase();
}

const original = "hello";
const processed = processString(original);
console.log(original); // ä»ç„¶æ˜¯ "hello"
console.log(processed); // "HELLO"

// ç¤ºä¾‹è¾“å‡º:
// ç›´æ¥æ‹¼æ¥: 1247.53ms
// æ•°ç»„join: 14.28ms
// StringBufferæ¨¡å¼: 15.12ms
```

### 7. å¦‚ä½•é«˜æ•ˆåœ°æ‹¼æ¥å¤§é‡å­—ç¬¦ä¸²ï¼Ÿ

**ç­”**ï¼š
é«˜æ•ˆæ‹¼æ¥å¤§é‡å­—ç¬¦ä¸²çš„æ–¹æ³•æ¯”è¾ƒï¼š

```javascript
/**
 * æ¯”è¾ƒä¸åŒå­—ç¬¦ä¸²æ‹¼æ¥æ–¹æ³•çš„æ€§èƒ½
 * @param {number} iterations - è¿­ä»£æ¬¡æ•°
 * @param {number} [runs=3] - è¿è¡Œæ¬¡æ•°ï¼ˆå–å¹³å‡ï¼‰
 */
function compareStringConcatenation(iterations, runs = 3) {
  // å®šä¹‰æµ‹è¯•å‡½æ•°
  const methods = {
    // 1. ä½¿ç”¨+è¿ç®—ç¬¦ç›´æ¥æ‹¼æ¥
    plusOperator: function() {
      let result = '';
      for (let i = 0; i < iterations; i++) {
        result += String(i);
      }
      return result;
    },

    // 2. ä½¿ç”¨æ•°ç»„joinæ–¹æ³•
    arrayJoin: function() {
      const parts = [];
      for (let i = 0; i < iterations; i++) {
        parts.push(String(i));
      }
      return parts.join('');
    },

    // 3. æ•°ç»„join withé¢„åˆ†é…å®¹é‡
    arrayWithCapacity: function() {
      const parts = new Array(iterations);
      for (let i = 0; i < iterations; i++) {
        parts[i] = String(i);
      }
      return parts.join('');
    },

    // 4. ä½¿ç”¨å­—ç¬¦ä¸²æ•°ç»„åˆ†å—
    arrayChunks: function() {
      const CHUNK_SIZE = 10000;
      const numChunks = Math.ceil(iterations / CHUNK_SIZE);
      const chunks = new Array(numChunks);

      for (let c = 0; c < numChunks; c++) {
        const chunk = new Array(
          Math.min(CHUNK_SIZE, iterations - c * CHUNK_SIZE)
        );

        for (let i = 0; i < chunk.length; i++) {
          const value = c * CHUNK_SIZE + i;
          chunk[i] = String(value);
        }

        chunks[c] = chunk.join('');
      }

      return chunks.join('');
    },

    // 5. ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²
    templateString: function() {
      let result = '';
      for (let i = 0; i < iterations; i++) {
        result = `${result}${i}`;
      }
      return result;
    }
  };

  // è¿è¡Œå¤šæ¬¡å–å¹³å‡å€¼
  const results = {};

  for (const name in methods) {
    results[name] = 0;

    // é¢„çƒ­ä¸€æ¬¡
    methods[name]();

    for (let r = 0; r < runs; r++) {
      const start = performance.now();
      methods[name]();
      results[name] += performance.now() - start;
    }

    results[name] /= runs;  // è®¡ç®—å¹³å‡æ—¶é—´
  }

  // è¾“å‡ºç»“æœ
  console.log(`=== æ‹¼æ¥ ${iterations} ä¸ªå­—ç¬¦ä¸²çš„æ€§èƒ½æ¯”è¾ƒ (${runs}æ¬¡å¹³å‡) ===`);

  // æ‰¾å‡ºæœ€å¿«çš„æ–¹æ³•
  let fastest = Object.keys(results)[0];
  for (const name in results) {
    if (results[name] < results[fastest]) {
      fastest = name;
    }
  }

  // è¾“å‡ºæ’åºåçš„ç»“æœ
  Object.entries(results)
    .sort(([, timeA], [, timeB]) => timeA - timeB)
    .forEach(([name, time]) => {
      const isFastest = name === fastest;
      console.log(
        `${name}: ${time.toFixed(2)}ms` +
        (isFastest ? ' (æœ€å¿«)' : '')
      );
    });

  return results;
}

// è¿è¡Œå°è§„æ¨¡æµ‹è¯•
compareStringConcatenation(100);

// è¿è¡Œä¸­ç­‰è§„æ¨¡æµ‹è¯•
compareStringConcatenation(10000);

// è¿è¡Œå¤§è§„æ¨¡æµ‹è¯•
compareStringConcatenation(100000);

// å¯èƒ½çš„è¾“å‡ºï¼š
// === æ‹¼æ¥ 100 ä¸ªå­—ç¬¦ä¸²çš„æ€§èƒ½æ¯”è¾ƒ (3æ¬¡å¹³å‡) ===
// plusOperator: 0.02ms (æœ€å¿«)
// templateString: 0.03ms
// arrayWithCapacity: 0.05ms
// arrayJoin: 0.08ms
// arrayChunks: 0.15ms

// === æ‹¼æ¥ 10000 ä¸ªå­—ç¬¦ä¸²çš„æ€§èƒ½æ¯”è¾ƒ (3æ¬¡å¹³å‡) ===
// arrayWithCapacity: 0.91ms (æœ€å¿«)
// arrayJoin: 1.15ms
// arrayChunks: 2.23ms
// plusOperator: 18.47ms
// templateString: 23.56ms

// === æ‹¼æ¥ 100000 ä¸ªå­—ç¬¦ä¸²çš„æ€§èƒ½æ¯”è¾ƒ (3æ¬¡å¹³å‡) ===
// arrayWithCapacity: 12.78ms (æœ€å¿«)
// arrayJoin: 14.53ms
// arrayChunks: 18.41ms
// plusOperator: 887.34ms
// templateString: 932.16ms
```

### æ€»ç»“ä¸å»ºè®®

1. **æ•°ç»„æ“ä½œå»ºè®®**ï¼š
   - ä¼˜å…ˆä½¿ç”¨ä¸å¯å˜æ“ä½œæ¨¡å¼ï¼Œè¿”å›æ–°æ•°ç»„è€Œéä¿®æ”¹åŸæ•°ç»„
   - å¤„ç†å¤§é‡å…ƒç´ æ—¶ï¼Œé¿å…ä½¿ç”¨shift/unshift/spliceæ“ä½œ
   - æ•°ç»„éå†ä¼˜å…ˆä½¿ç”¨for...ofã€forEachæˆ–mapï¼Œè€Œéä¼ ç»Ÿforå¾ªç¯

2. **å­—ç¬¦ä¸²æ“ä½œå»ºè®®**ï¼š
   - å°è§„æ¨¡æ‹¼æ¥ç›´æ¥ä½¿ç”¨+æˆ–æ¨¡æ¿å­—ç¬¦ä¸²
   - å¤§è§„æ¨¡æ‹¼æ¥ä½¿ç”¨æ•°ç»„joinæ–¹æ³•
   - å¤æ‚å­—ç¬¦ä¸²å¤„ç†è€ƒè™‘ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼
   - æ³¨æ„å›½é™…åŒ–å’ŒUnicodeå¤„ç†

3. **æ€§èƒ½ä¼˜åŒ–**ï¼š
   - é¿å…åœ¨å¾ªç¯ä¸­é¢‘ç¹åˆ›å»ºä¸´æ—¶æ•°ç»„æˆ–å­—ç¬¦ä¸²
   - æ³¨æ„å­—ç¬¦ä¸²çš„ä¸å¯å˜æ€§å¯¹æ€§èƒ½çš„å½±å“
   - åœ¨åˆé€‚åœºæ™¯ä¸­åˆ©ç”¨æ•°ç»„çš„å¯å˜æ€§æé«˜æ€§èƒ½

4. **ç®—æ³•é€‰æ‹©**ï¼š
   - åˆ†æå…·ä½“é—®é¢˜é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„å’Œç®—æ³•
   - å¯¹æŸ¥æ‰¾æ“ä½œé¢‘ç¹çš„æ•°æ®ï¼Œè€ƒè™‘è½¬æ¢ä¸ºMap/Set
   - å¯¹éœ€è¦é«˜æ•ˆæ·»åŠ /åˆ é™¤çš„åœºæ™¯ï¼Œè€ƒè™‘åŸºäºæ•°ç»„å®ç°çš„é˜Ÿåˆ—/æ ˆ

## å­¦ä¹ èµ„æº

- [MDN Web Docs - Array](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array) - JavaScriptæ•°ç»„è¯¦ç»†æ–‡æ¡£
- [MDN Web Docs - String](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String) - JavaScriptå­—ç¬¦ä¸²è¯¦ç»†æ–‡æ¡£
- [JavaScriptæ•°æ®ç»“æ„ä¸ç®—æ³•](https://github.com/trekhleb/javascript-algorithms) - GitHubä¸Šçš„JSç®—æ³•å®ç°
- [LeetCodeæ•°ç»„é¢˜é›†](https://leetcode.com/tag/array/) - æ•°ç»„ç›¸å…³ç®—æ³•ç»ƒä¹ 
- [LeetCodeå­—ç¬¦ä¸²é¢˜é›†](https://leetcode.com/tag/string/) - å­—ç¬¦ä¸²ç›¸å…³ç®—æ³•ç»ƒä¹ 
- [å‰ç«¯è¿›é˜¶ä¹‹é“](https://juejin.cn/post/6844903776512393224) - å‰ç«¯è§†è§’çš„æ•°æ®ç»“æ„è®²è§£