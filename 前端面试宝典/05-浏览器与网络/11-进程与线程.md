# ​进程 vs 线程：生动的比喻与区别​

## ​1. 进程（Process） vs 线程（Thread）的核心区别​

| 特性             | 进程（Process）                                  | 线程（Thread）                                     |
| ---------------- | ------------------------------------------------ | -------------------------------------------------- |
| ​定义​            | 程序的一次执行实例，拥有独立的内存空间             | 进程内的执行单元，共享进程的内存空间                 |
| ​资源占用​         | 独立的内存、文件句柄等系统资源                     | 共享进程的内存，仅占用少量额外资源                   |
| ​通信方式​         | 进程间通信（IPC）较复杂（如管道、Socket）        | 直接读写共享内存，通信更高效                         |
| ​稳定性​           | 一个进程崩溃不会影响其他进程                       | 一个线程崩溃可能导致整个进程崩溃                     |
| ​创建/销毁开销​   | 较大（需要分配独立资源）                           | 较小（共享进程资源）                               |
| ​并发能力​         | 多进程适合 CPU 密集型任务                          | 多线程适合 I/O 密集型任务                            |

## ​2. 生动比喻：餐厅 vs 厨师​

### ​（1）进程 = 餐厅​

*   ​独立经营​：每个餐厅（进程）有自己的厨房、食材、服务员、收银系统（独立内存空间）。
*   ​资源隔离​：A 餐厅的食材不会被 B 餐厅使用（进程间通信需要 IPC，如外卖配送）。
*   ​稳定性高​：如果 A 餐厅倒闭（进程崩溃），不会影响 B 餐厅（其他进程）。
*   ​开销大​：开一家新餐厅需要租场地、买设备（创建进程开销大）。

### ​（2）线程 = 厨师​

*   ​共享厨房​：同一个餐厅（进程）的厨师（线程）共用厨房、食材、工具（共享内存）。
*   ​协作高效​：厨师 A 可以直接告诉厨师 B "盐不够了"（线程间通信快，直接共享内存）。
*   ​风险高​：如果厨师 A 打翻了油锅（线程崩溃），可能引发火灾，影响整个餐厅（进程崩溃）。
*   ​开销小​：新招一个厨师比开新餐厅便宜多了（创建线程开销小）。